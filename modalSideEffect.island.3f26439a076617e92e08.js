"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8041],{91164:(e,t,n)=>{n.d(t,{W:()=>h});var o=n(24643),i=n(41271),a=n(40099),r=n(50970),l=n(88920),s=n(85041),d=n(56723),c=n(62186),p=n(72153);const u=(0,c.default)("div",{target:"eub0wve0"})((({theme:{direction:e}})=>(0,p.mp)({direction:e,marginStart:"24px"})),{position:"relative",width:"32px",height:"32px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"50%",cursor:"pointer",WebkitAppRegion:"no-drag"},"label:DivProfileContainer;");u.defaultProps=Object.assign(Object.assign({},u.defaultProps),{"data-e2e":"profile-icon"});var m=n(82535),g=n(21683);const h=(0,a.memo)((function(e){var t,n,c;const{children:p,style:h={},id:v,ariaLabel:b,ariaExpanded:_,hasPopup:f=!0}=e,{appContext:x}=(0,i.P)(r.L),{enableClickTopRightIcon:y}=(0,l.eb)(),k=null==x?void 0:x.user,w=(0,a.useCallback)((()=>{m.q.handleEnterProfile({enter_method:"profile_icon"})}),[]),C=null!==(t=null==k?void 0:k.suggestAccountBind)&&void 0!==t&&t;return(0,g.L2)(C),k?y?(0,o.jsxs)("div",{id:v,tabIndex:f?0:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onKeyDown:e.onKeyDown,role:"button","aria-label":b,"aria-expanded":_,"aria-haspopup":f?"true":void 0,"aria-controls":_?d.hA:"",children:[(0,o.jsx)(s.E,{secUid:k.secUid,uniqueId:k.uniqueId,shouldStopPropagation:!0,reportTea:!1,teaParams:{to_user_id:k.uid},onClick:w,children:(0,o.jsx)(u,{style:Object.assign({backgroundImage:`url(${null===(n=x.user)||void 0===n?void 0:n.avatarUri[0]})`},h)})}),p]}):(0,o.jsx)(u,{id:v,tabIndex:f?0:void 0,style:Object.assign({backgroundImage:`url(${null===(c=x.user)||void 0===c?void 0:c.avatarUri[0]})`},h),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onKeyDown:e.onKeyDown,role:"button","aria-label":b,"aria-expanded":_,"aria-haspopup":f?"true":void 0,"aria-controls":_?d.hA:"",children:p}):null}))},28369:(e,t,n)=>{n.d(t,{EL:()=>u,Pk:()=>g,aF:()=>m,ci:()=>s,f$:()=>h,jN:()=>p,l1:()=>l,uA:()=>d,yw:()=>c});var o=n(60484),i=n(49057),a=n(71281),r=n(88920);const l=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[]));return{hasRedesign:"v1"===(null!==(e=(0,a.qt)(t,"fyp_redesign"))&&void 0!==e?e:"v0")}},s=()=>{const{hasRedesign:e}=l(),{isInProductHoldout:t}=(0,r.Vv)();return!(!e||t)},d=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[])),n=null!==(e=(0,a.qt)(t,"immersive_player"))&&void 0!==e?e:"v0";return{enableImmersivePlayer:"v0"!==n,isCommentsDefaultOpen:"v1"===n||"v3"===n,hasForcedDarkMode:"v3"===n||"v4"===n}},c=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[])),n=null!==(e=(0,a.qt)(t,"preload_with_left"))&&void 0!==e?e:"0";return{preloadThreshold:Number(n)}},p=()=>{var e,t;const{abTestVersion:n}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[])),r=null!==(e=(0,a.qt)(n,"fyp_comments_panel"))&&void 0!==e?e:"v0",l="v1"===(null!==(t=(0,a.qt)(n,"fyp_redesign"))&&void 0!==t?t:"v0")&&"v0"!==r,s=!1;return{isInCommentsPanelExperiment:l,hasNewCommentsDesign:l||s,hasSidebar:l,hasFloatingPanel:s,isDefaultOpen:"v2"===r,isSessionStateControlled:"v3"===r}},u=()=>{const{abTestVersion:e}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[]));return"v1"===(0,a.qt)(e,"image_fetch_priority")},m=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[]));return"v0"!==(null!==(e=(0,a.qt)(t,"media_card_redesign"))&&void 0!==e?e:"v0")},g=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[]));return{isInAppStyleShareExperiment:"v0"!==(null!==(e=(0,a.qt)(t,"app_style_share"))&&void 0!==e?e:"v0")}},h=()=>{var e;const{abTestVersion:t}=(0,o.L$)((0,i.W)((()=>["abTestVersion"]),[]));return"v0"!==(null!==(e=(0,a.qt)(t,"cds_grid_layout"))&&void 0!==e?e:"v0")}},10350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Er});var o=n(2787),i=n(40099),a=n(11060),r=n(50970),l=n(99282),s=n(19442),d=n(7859),c=n(58632),p=n(24643),u=n(88091),m=n(34922),g=n(69252),h=n(62186);const v=(0,h.default)("div",{target:"e3yo8em0"})({display:"flex",flexDirection:"row",width:"100%",flexWrap:"wrap"},"label:DivContainer;"),b=(0,h.default)("div",{target:"e3yo8em1"})((({theme:e})=>[{display:"flex",flexDirection:"row",width:"100%",backgroundColor:e.colors.BGView,margin:"10px 0 10px 0",padding:"20px",borderRadius:"10px"}]),"label:DivSectionContainer;"),_=(0,h.default)("div",{target:"e3yo8em2"})({display:"flex",flexDirection:"row",flex:1,alignItems:"center",flexWrap:"wrap",paddingInlineEnd:"6px",overflow:"hidden"},"label:DivContentContainer;"),f=(0,h.default)("div",{target:"e3yo8em3"})({display:"flex",flexDirection:"row",width:"100%",alignItems:"center",marginBottom:"6px"},"label:DivContentTitleContainer;"),x=(0,h.default)("div",{target:"e3yo8em4"})({".TUXRadioStandalone-container":{width:"24px",height:"24px"}},"label:DivRadioContainer;");var y=n(25616);const k=({text:e})=>(0,p.jsx)(u.Fm,{type:"P4-Regular",as:"label",color:"ConstTextInverse",marginInlineStart:"8px",lineHeight:1,deprecatedStyle:{backgroundColor:"var(--tux-colorTextTertiary)",padding:"4px",borderRadius:"4px"},children:e}),w=e=>{const{isExistingUser:t,isFirstTimeShow:n=!0,isPrivateSelected:o=!0,updateIsPrivateSelected:i,privateAccount:a}=e,r=(0,y.s)();return(0,p.jsxs)(v,{children:[(0,p.jsxs)(b,{onClick:()=>i(!0),children:[(0,p.jsxs)(_,{children:[(0,p.jsxs)(f,{children:[(0,p.jsx)(m.A,{fill:"var(--TextPrimary)"}),(0,p.jsx)(u.Fm,{marginInlineStart:"8px",type:"P3-Semibold",color:"TextPrimary",children:r("privateAccountPrompt_manageAccount_privateAccount_title")}),t&&a&&(0,p.jsx)(k,{text:r("privateAccountPrompt_account_permission_current_label")})]}),(0,p.jsx)(u.Fm,{type:"P4-Regular",color:"TextTertiary",children:r("privateAccountPrompt_manageAccount_privateAccount_body")})]}),n&&(0,p.jsx)(x,{children:(0,p.jsx)(u.v3,{name:"",value:"",checked:o,label:""},"")})]}),(0,p.jsxs)(b,{onClick:()=>i(!1),children:[(0,p.jsxs)(_,{children:[(0,p.jsxs)(f,{children:[(0,p.jsx)(g.A,{fill:"var(--TextPrimary)"}),(0,p.jsx)(u.Fm,{marginInlineStart:"8px",type:"P3-Semibold",color:"TextPrimary",children:r("privateAccountPrompt_manageAccount_publicAccount_title")}),t&&!a&&(0,p.jsx)(k,{text:r("privateAccountPrompt_account_permission_current_label")})]}),(0,p.jsx)(u.Fm,{type:"P4-Regular",color:"TextTertiary",children:r("privateAccountPrompt_manageAccount_publicAccount_body2")})]}),n&&(0,p.jsx)(x,{children:(0,p.jsx)(u.v3,{name:"",value:"",checked:!o,label:""},"")})]})]})},C=(0,h.default)("div",{target:"ev85kfx0"})({padding:"8px 20px"},"label:DivContentWrapper;"),j=(0,h.default)("div",{target:"ev85kfx1"})({maxWidth:"483px"},"label:DivModalWrapper;"),S=(0,h.default)("a",{target:"ev85kfx2"})({":focus":{outline:"none"}},"label:ALinkContainer;");var T=n(47926),O=n(56070),I=n(26325);var M=n(72153);const P=(0,h.default)("div",{target:"e1h1bu0s0"})((({theme:e})=>[(0,M.zy)({theme:e,color:"TextTertiary"}),{button:{border:"none",backgroundColor:"transparent"}}]),"label:DivSuppressedButtonWrapper;");var D,A,R;!function(e){e[e.PrivateAccount=1]="PrivateAccount",e[e.PublicAccount=0]="PublicAccount"}(D||(D={})),function(e){e[e.PrivateOrPublicAccount=1]="PrivateOrPublicAccount",e[e.RemindLater=2]="RemindLater"}(A||(A={})),function(e){e.NewUser="private_account_prompt",e.ExistingUser="privacy_account_prompt_review"}(R||(R={}));const E=e=>{var{label:t,privateAccount:n,onSubmit:o,isLoading:i,loadingButtonType:a,isExitingUser:r}=e,l=(0,c.__rest)(e,["label","privateAccount","onSubmit","isLoading","loadingButtonType","isExitingUser"]);const s=(0,y.s)(),d=i&&3!==a,m=i&&3===a;return(0,p.jsx)(u.I0,Object.assign({label:s(t),onClick:()=>o({privateAccount:n,recordName:r?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:3}),loading:m,disabled:d},l))},L=e=>{var{isMobile:t}=e,n=(0,c.__rest)(e,["isMobile"]);return(0,p.jsx)(E,Object.assign({label:"privateAccountPrompt_stayPrivate_button",variant:"primary",size:t?"large":void 0,privateAccount:1,block:t},n))},F=e=>{var{isMobile:t}=e,n=(0,c.__rest)(e,["isMobile"]);return(0,p.jsx)(E,Object.assign({label:"privateAccountPrompt_stayPublic_button",variant:"secondary",size:t?"large":void 0,privateAccount:0,block:t},n))},z=({isLoading:e,onSubmit:t,loadingButtonType:n,isMobile:o})=>{const i=(0,y.s)(),a=e&&2!==n,r=e&&2===n,l=o?"large":void 0,s=(0,p.jsx)(u.I0,{label:i("privateAccountPrompt_manageAccount_privateAccount_button2"),variant:"secondary",onClick:()=>t({privateAccount:1,recordValue:2,buttonType:2}),loading:r,disabled:a,block:o,size:l});return o?(0,p.jsx)(P,{children:s}):s},B=e=>{var{label:t,isLoading:n,onSubmit:o,loadingButtonType:i,privateAccount:a,isExitingUser:r}=e,l=(0,c.__rest)(e,["label","isLoading","onSubmit","loadingButtonType","privateAccount","isExitingUser"]);const s=(0,y.s)(),d=n&&4!==i,m=n&&4===i;return(0,p.jsx)(u.I0,Object.assign({label:s(t),onClick:()=>o({privateAccount:a,recordName:r?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:4}),loading:m,disabled:d},l))},N=e=>{var{isMobile:t}=e,n=(0,c.__rest)(e,["isMobile"]);return(0,p.jsx)(B,Object.assign({label:"privateAccountPrompt_switchPrivate_button",variant:"primary",size:t?"large":void 0,privateAccount:1,block:t},n))},$=e=>{var{isMobile:t}=e,n=(0,c.__rest)(e,["isMobile"]);return(0,p.jsx)(B,Object.assign({label:"privateAccountPrompt_switchPublic_button",variant:"secondary",size:t?"large":void 0,privateAccount:0,block:t},n))},Y=({isLoading:e,onSubmit:t,loadingButtonType:n,isMobile:o})=>{const i=(0,y.s)(),a=e&&1!==n,r=e&&1===n,l=o?"large":void 0;return(0,p.jsx)(u.I0,{label:i("privateAccountPrompt_manageAccount_privateAccount_button3"),variant:"primary",onClick:()=>t({privateAccount:1,recordValue:1,buttonType:1}),loading:r,disabled:a,block:o,size:l})},W=({isLoading:e,onSubmit:t,loadingButtonType:n,isMobile:o})=>{const i=(0,y.s)(),a=e&&1!==n,r=e&&1===n,l=o?"large":void 0;return(0,p.jsx)(u.I0,{label:i("privateAccountPrompt_manageAccount_privateAccount_button4"),variant:"primary",onClick:()=>t({privateAccount:0,recordValue:1,buttonType:1}),loading:r,disabled:a,block:o,size:l})};var U=n(66401);const V=e=>{const{privacyAccountPromptVariant:t,privateAccount:n,selectPrivateByDefault:o=!0}=e,[a,r]=(0,i.useState)(!0),[l,s]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),[g,h]=(0,i.useState)(void 0),v=1===t,b=!(3===t&&n)&&(0,U.Rx)(t)&&!l;(0,i.useEffect)((()=>{r(!!o||Boolean(n))}),[o,n]);const _=(0,y.s)(),f=(0,u.Ab)({zIndex:10010}),x=(0,i.useCallback)((e=>(0,c.__awaiter)(void 0,void 0,void 0,(function*(){h(e.buttonType),m(!0);try{yield(e=>(0,c.__awaiter)(void 0,void 0,void 0,(function*(){const{privateAccount:t,recordValue:n,recordName:o="private_account_prompt"}=e;var i;if(0!==(yield(i={private_account:t},(0,c.__awaiter)(void 0,void 0,void 0,(function*(){return yield O.h.post("/api/privacy/user/private_account_prompt/v1",{query:i,baseUrlType:2,headers:{[I.nk]:O.h.csrfToken}})})))).status_code)throw new Error("setPrivateAccountPrompt error");try{yield(e=>(0,c.__awaiter)(void 0,void 0,void 0,(function*(){return yield O.h.post("/api/privacy/agreement/record/agree/v1",{query:e,baseUrlType:2,headers:{[I.nk]:O.h.csrfToken}})})))({record_name:o,record_value:n})}catch(e){}})))({privateAccount:e.privateAccount,recordValue:e.recordValue,recordName:e.recordName}),s(!0)}catch(e){f.open({message:_("Something went wrong. Please try again.")})}m(!1),h(void 0)}))),[f,_]),k={1:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(z,{isLoading:d,onSubmit:x,loadingButtonType:g}),a?(0,p.jsx)(Y,{isLoading:d,onSubmit:x,loadingButtonType:g}):(0,p.jsx)(W,{isLoading:d,onSubmit:x,loadingButtonType:g})]}),2:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($,{isLoading:d,onSubmit:x,loadingButtonType:g}),(0,p.jsx)(L,{isLoading:d,onSubmit:x,loadingButtonType:g})]}),3:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(F,{isLoading:d,onSubmit:x,loadingButtonType:g,isExitingUser:!0}),(0,p.jsx)(N,{isLoading:d,onSubmit:x,loadingButtonType:g,isExitingUser:!0})]})},M={title:{1:_("privateAccountPrompt_manageAccount_title"),2:_("privateAccountPrompt_popUp_prompt_title"),3:_("privateAccountPrompt_welcomePage_title")},disclaimer:{1:_("privateAccountPrompt_manageAccount_privateAccount_description3").replace("%s",""),2:_("privateAccountPrompt_popUp_prompt_description").replace("%s",""),3:_("privateAccountPrompt_account_permission_disclaimer").replace("%s","")}};return(0,p.jsx)(T.i,{compact:!0,closeOnBackdropClick:!1,closeOnEsc:!1,isOpen:b,children:(0,p.jsxs)(j,{children:[(0,p.jsx)(u.ND,{children:t&&M.title[t]}),(0,p.jsx)(u.Te,{children:(0,p.jsx)(w,{isExistingUser:3===t,privateAccount:null!=n&&n,isFirstTimeShow:v,isPrivateSelected:a,updateIsPrivateSelected:r})}),(0,p.jsx)(u.Qx,{}),(0,p.jsxs)(C,{children:[(0,p.jsx)(u.Fm,{type:"P5-Regular",color:"TextSecondary",children:t&&M.disclaimer[t]}),(0,p.jsx)(S,{href:"https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/making-your-account-public-or-private",target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(u.Fm,{marginInlineStart:"2px",type:"P5-Semibold",color:"TextPrimary",children:_("privateAccountPrompt_manageAccount_privateAccount_placeholder")})})]}),(0,p.jsx)(u.KW,{children:t&&k[t]})]})})};var H=n(11983),q=n(16680),K=n(32125),G=n(95481),Z=n(73635),X=n(84827);const Q=(0,h.default)("div",{target:"eaxh4gs0"})((({theme:{direction:e}})=>[{position:"relative",borderRadius:"8px",overflow:"hidden"},(0,M.mp)({direction:e,start:"unset"})]),"label:DivFrameContainer;");Q.defaultProps=Object.assign(Object.assign({},Q.defaultProps),{"data-e2e":"login-frame"});const J=(0,h.default)("button",{target:"eaxh4gs1"})((({theme:{direction:e}})=>[M.WA,{position:"absolute",top:"24px",width:"40px",height:"40px",cursor:"pointer",background:"rgba(22, 24, 35, .06)",borderRadius:"100%",transition:"all ease-in-out 200ms",":hover":{background:"rgba(22, 24, 35, .1)"},":active":{background:"rgba(22, 24, 35, .14)"}},(0,M.mp)({direction:e,end:"24px"})]),"label:ButtonCloseWrapper;"),ee=(0,h.default)(Z.A,{target:"eaxh4gs2"})({position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},"label:StyledXMark;"),te=(0,h.default)("iframe",{target:"eaxh4gs3"})({overflow:"hidden",display:"block",width:"472px",height:"calc(100vh - 64px)",maxHeight:"660px",background:"transparent",border:"none"},"label:IframeLoginSite;");var ne=n(49057);const oe=function(){var e;const[t,n]=(0,q.MR)((e=>e),K.bN),{user:o}=null!==(e=(0,ne.W)((()=>["user"]),[]))&&void 0!==e?e:{},a=(0,i.useCallback)(((e="click_x")=>{n.closeModal({enter_method:e})}),[n]),r=(0,i.useCallback)((()=>{a("click_x")}),[a]),l=(0,i.useCallback)((e=>{let t="click_x";t=0===e||2===e?"click_x":"click_blank",n.closeModal({enter_method:t})}),[n]);return(0,i.useEffect)((()=>{function e(e){var t,i,r;if("object"==typeof e.data&&e.origin===location.origin)switch(e.data.event){case"deleteSuccess":localStorage.setItem("multi-account-info",JSON.stringify({data:null!==(r=null===(i=JSON.parse(null!==(t=localStorage.getItem("multi-account-info"))&&void 0!==t?t:'{"data":[]}').data)||void 0===i?void 0:i.filter((e=>e.secUid!==(null==o?void 0:o.secUid))))&&void 0!==r?r:[]})),a(),window.location.href="https://www.tiktok.com/logout";break;case"loginCancel":a();break;case"hasLogin":a(),window.location.reload();break;case"loginSuccess":if(a("login_success"),e.data.message)return H.F.open({content:e.data.message,duration:3,widthType:"half",style:{zIndex:10011}}),void setTimeout((()=>{e.data.redirectUrl&&e.data.redirectUrl!==location.href?/^https?:\/\//.test(e.data.redirectUrl)&&(window.location.href=e.data.redirectUrl):window.location.reload()}),3e3);e.data.redirectUrl&&e.data.redirectUrl!==location.href?/^https?:\/\//.test(e.data.redirectUrl)&&(window.location.href=e.data.redirectUrl):window.location.reload();break;case"hideOuterClose":n.setCloseable(!1)}}return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}}),[n,a,null==o?void 0:o.secUid]),(0,p.jsx)(G.aF,{visible:t.isOpen,zIndex:10010,maskCloseable:!1,keyboardCloseable:t.closeable,onClose:l,popupType:t.popupType,children:(0,p.jsxs)(Q,{children:[t.closeable&&(0,p.jsx)(J,{onClick:r,children:(0,p.jsx)(ee,{})}),(0,p.jsx)(te,{src:t.url,style:t.iframeStyle},t.url)]})})};var ie=n(47172);const ae=(e,t,n)=>{const o="undefined"!=typeof window?window.innerWidth:0,i="ltr"===t?e+n-o:e-n;return"ltr"===t&&i>0||"rtl"===t&&i<0?e-i:e},re=(e,t)=>{const n=e+37*t-("undefined"!=typeof window?window.innerHeight:0);return n>0?e-n:e},le=(0,h.default)("ul",{target:"e5bhsb10"})((({top:e,left:t,width:n,visible:o,optionCount:i,theme:{colors:a,direction:r}})=>[{padding:"0px 0px",margin:0,minWidth:"181px",listStyle:"none",boxSizing:"border-box",borderRadius:"8px",userSelect:"none",position:"fixed",top:re(e,i),boxShadow:"0px 8px 32px rgba(0, 0, 0, 0.12)",background:a.BGPrimary,opacity:"95%",zIndex:10500,transform:o?"scale(1)":"scale(0)"},(0,M.mp)({direction:r,start:"ltr"===r?ae(t,"ltr",n):`calc(100vw - ${ae(t,"rtl",n)}px)`})]),"label:UlPopupContainer;"),se=(0,h.default)("li",{target:"e5bhsb11"})((({theme:{colors:e}})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",padding:"10px 12px",boxSizing:"border-box",":hover":{background:e.BGView},cursor:"pointer",":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":first-child":{borderRadius:"8px 8px 0px 0px"},":last-child":{borderRadius:"0px 0px 8px 8px",":after":{display:"none"}}}]),"label:LiItemWrapper;"),de=(0,h.default)("li",{target:"e5bhsb12"})((({theme:{colors:e}})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",boxSizing:"border-box",":hover":{background:e.BGView},cursor:"pointer",":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":first-child":{borderRadius:"8px 8px 0px 0px"},":last-child":{borderRadius:"0px 0px 8px 8px",":after":{display:"none"}}}]),"label:LiLinkItemWrapper;"),ce=(0,h.default)("div",{target:"e5bhsb13"})({width:"17px",height:"17px",display:"flex",justifyContent:"center",alignItems:"center","svg:first-of-type":{width:"16px",height:"16px"}},"label:DivIconWrapper;"),pe=(0,h.default)("span",{target:"e5bhsb14"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"H6",fontWeight:"semiBold",fontFamily:"TikTokFont",color:"TextPrimary"}),{display:"inline-block",height:"17px",lineHeight:"17px",marginInlineStart:"11px"}]),"label:SpanItemText;");var ue=n(93608),me=n(88920),ge=n(53764),he=n(82902),ve=n(17566),be=n(61740),_e=n(243),fe=n.n(_e),xe=n(86460),ye=n(23592),ke=n(57421),we=n(84794),Ce=n(56646),je=n(41664),Se=n(8641),Te=n(60072);const Oe=(0,i.memo)((function(){const{hasNonPersonalizedMenu:e}=(0,me.cE)(),t=(0,me.Kj)(),[{contextMenuOpen:n,location:{x:o,y:a},videoInfo:{videoId:r,downloadAddr:l,videoElement:s,videoShareHandler:u,videoDetailsRedirectHandler:m,mediaType:g},menuOptions:h},{setContextMenuOpen:v,resetContextMenu:b}]=(0,Se.xx)((e=>e),K.bN),[_,f]=(0,Te.l8)((e=>e[null!=r?r:""]),K.bN),x=(0,i.useRef)(null),k=(0,i.useRef)(181),w=(0,y.s)("Webapp"),{handleOpenModal:C,PersonalizedModal:j}=(0,d.D0)({isFeed:!0}),S=(0,ve._u)()(_),T=`https://www.tiktok.com${S}?is_from_webapp=1&sender_device=pc`,O=(0,i.useCallback)((()=>{v(!1),b({})}),[v]),I=(0,i.useCallback)((()=>(0,c.__awaiter)(this,void 0,void 0,(function*(){be.Z.handleDownload({media_type:g,enter_method:"click_context_menu",group_id:r}),(yield(0,he.k)({cors:!0,downloadAddr:l,fileName:"Download"}))||(yield(0,he.k)({cors:!1,downloadAddr:l,fileName:"Download"})),f.addMlModelTrainData({id:r,action:"download"})}))),[l]),M=e=>()=>{ue.f.event(e,{media_type:g,enter_method:"click_context_menu"})},P=(0,i.useCallback)((e=>{var t;M(null!==(t=e.teaEventName)&&void 0!==t?t:""),null==m||m()}),[M,m]);(0,i.useEffect)((()=>(n&&(document.addEventListener("click",O),document.addEventListener("scroll",O),window.addEventListener("popstate",O)),()=>{document.removeEventListener("click",O),document.removeEventListener("scroll",O),window.removeEventListener("popstate",O)})),[n]),(0,i.useEffect)((()=>{fe().on("DOWNLOAD_FILE_FINISHED",((e,t)=>{H.F.open({content:t.data?"download successfully !":"fail to download",duration:3})}))}),[]),(0,i.useEffect)((()=>{var e,t;k.current=null!==(t=null===(e=x.current)||void 0===e?void 0:e.scrollWidth)&&void 0!==t?t:181}),[n,o,a]);const D=Object.assign(Object.assign({download:{text:w("TTweb_fyf_menuDownloadVideo_menuLink"),Icon:xe.A,handler:I},share:{text:w("TTweb_fyf_menuSendtoFriend_menuLink"),Icon:ye.A,handler:()=>{u()}},link:{text:w("copy_link"),Icon:ke.A,handler:()=>(0,c.__awaiter)(this,void 0,void 0,(function*(){be.Z.handleCopyVideoUrl({media_type:g,enter_method:"click_context_menu",group_id:r}),yield navigator.clipboard.writeText(T),H.F.open({content:w("Copied"),duration:1.2,widthType:"half",getContainer:ge.M,getContainerPosition:"fixed"}),f.addMlModelTrainData({id:r,action:"share"})}))},pip:{text:w("TTweb_fyf_menuPictureinPicture_menuLink"),Icon:we.A,handler:()=>(0,c.__awaiter)(this,void 0,void 0,(function*(){try{s instanceof HTMLVideoElement&&(yield s.requestPictureInPicture()),be.Z.handlePictureInPicture({media_type:g,enter_method:"click_context_menu",group_id:r})}catch(e){H.F.open({content:w("changeRegistrationLocation_weakWarning_loseFeatures_toast"),duration:1.2,widthType:"half",getContainer:ge.M,getContainerPosition:"fixed"})}}))}},e||t?{"manage-feed":{text:w("nonpersonalizedFeeds_feed_entrypoint_manageFeed"),Icon:Ce.A,handler:()=>{C()}}}:{}),{details:{text:w("webAnalytics_videoDetail_viewPerformance"),Icon:je.A,redirectUrl:S,teaEventName:"enter_video_detail"},photo:{text:w("ls_view_details"),Icon:je.A,redirectUrl:S,teaEventName:"enter_video_detail"}}),A=(e=>["download","share","link","pip","manage-feed","details","photo"].filter((t=>e.includes(t))))(h);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(le,{width:k.current,ref:x,visible:n,top:a,left:o,optionCount:h.length,children:A.map((e=>{var t;const n=D[e];return n.handler?(0,p.jsxs)(se,{onClick:n.handler,children:[(0,p.jsx)(ce,{children:(0,p.jsx)(n.Icon,{})}),(0,p.jsx)(pe,{children:n.text})]},n.text):(0,p.jsx)(de,{children:(0,p.jsxs)(ie.Link,{to:null!==(t=n.redirectUrl)&&void 0!==t?t:"",onClick:P,style:{display:"flex",textDecoration:"none",padding:"10px 12px"},children:[(0,p.jsx)(ce,{children:(0,p.jsx)(n.Icon,{})}),(0,p.jsx)(pe,{children:n.text})]})},n.text)}))}),j]})})),Ie=(0,h.default)("div",{target:"eteofs60"})((({theme:e})=>({minHeight:"563px",width:"700px",background:e.colors.BGBase})),"label:DivReportInboxModalContainer;"),Me=(0,h.default)("div",{target:"eteofs61"})((({theme:e})=>({height:"48px",display:"flex",color:e.colors.TextPrimary,fontSize:"24px",lineHeight:"36px",padding:"0px 24px 0px 24px",marginTop:"24px",fontWeight:"700"})),"label:DivReportInboxModalHeader;"),Pe=(0,h.default)("div",{target:"eteofs62"})({marginInlineStart:"auto",display:"flex",gap:"8px"},"label:DivIconContainer;"),De=(0,h.default)("div",{target:"eteofs63"})({cursor:"pointer"},"label:DivIconWrapper;"),Ae=(0,h.default)("div",{target:"eteofs64"})({paddingTop:"24px",paddingBottom:"32px",paddingLeft:"36px",paddingRight:"36px",height:"400px",overflowY:"auto"},"label:DivReportInboxModalContentsContainer;"),Re=(0,h.default)("div",{target:"eteofs65"})({marginTop:"18px"},"label:DivContentWrapper;"),Ee=(0,h.default)("div",{target:"eteofs66"})((({theme:e})=>({position:"absolute",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGBase})),"label:DivFooter;"),Le=(0,h.default)("div",{target:"eteofs67"})({width:"800px"},"label:ViolationAppealWrapper;");var Fe=n(54622);const ze=(0,h.default)("div",{target:"e1wkzdk0"})((({})=>({display:"flex",flexDirection:"row",borderRadius:"4px",alignItems:"center"})),"label:DivPCCard;"),Be=(0,h.default)("div",{target:"e1wkzdk1"})((({theme:e})=>({fontSize:"17px",fontWeight:"600",lineHeight:"20px",color:e.colors.TextPrimary})),"label:DivTitle;"),Ne=(0,h.default)("div",{target:"e1wkzdk2"})((({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextPrimary})),"label:DivDescription;"),$e=(0,h.default)("div",{target:"e1wkzdk3"})((({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextTertiary})),"label:DivCaption;"),Ye=(0,h.default)("div",{target:"e1wkzdk4"})({display:"flex",flexDirection:"column"},"label:DivTextContainer;"),We=(0,h.default)("img",{target:"e1wkzdk5"})({marginInlineStart:"auto",width:"50px",height:"68px",borderRadius:"2px"},"label:ImgThumbnail;"),Ue=({title:e,description:t,caption:n,thumbnailUrl:o=""})=>{const[a,r]=(0,i.useState)(!1),l=(0,i.useCallback)((()=>{r(!0)}),[]);return(0,p.jsxs)(ze,{children:[(0,p.jsxs)(Ye,{children:[(0,p.jsx)(Be,{children:e}),(0,p.jsx)(Ne,{children:t}),(0,p.jsx)($e,{children:n})]}),""!==o&&!a&&(0,p.jsx)(We,{src:o,onError:l})]})},Ve=(0,h.default)("div",{target:"e1g6629w0"})((({})=>({display:"flex",flexDirection:"column",borderRadius:"4px"})),"label:DivContainer;"),He=(0,h.default)("div",{target:"e1g6629w1"})({display:"flex",flexDirection:"row",gap:"8px",alignItems:"stretch",marginBottom:"-10px"},"label:DivContentContainer;"),qe=(0,h.default)("div",{target:"e1g6629w2"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivStepperContainer;"),Ke=(0,h.default)("div",{target:"e1g6629w3"})({height:"11px"},"label:DivStepperCircleWrapper;"),Ge=(0,h.default)("div",{target:"e1g6629w4"})({width:"0.5px",background:"rgb(189 189 189)",flex:1},"label:DivStepperLine;"),Ze=(0,h.default)("div",{target:"e1g6629w5"})({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",paddingBottom:"42px"},"label:DivTextContainer;"),Xe=(0,h.default)("div",{target:"e1g6629w6"})((({theme:e})=>({fontSize:"17px",fontWeight:"600",lineHeight:"20px",color:e.colors.TextPrimary})),"label:DivTitle;"),Qe=(0,h.default)("div",{target:"e1g6629w8"})((({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextTertiary})),"label:DivCaption;");var Je=n(84987);const et={id:"circle-f53cb0df",use:"circle-f53cb0df-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="circle-f53cb0df"><circle cx="7.999" cy="8" r="4" fill="#BDBDBD" /></symbol>'};function tt(e){const t=(0,i.useContext)(Je.X);return(0,i.useLayoutEffect)((()=>(t.add(et),()=>{t.remove("circle-f53cb0df")})),[]),(0,p.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,p.jsx)("use",{xlinkHref:"#circle-f53cb0df"},void 0)}),void 0)}var nt=n(30591),ot=n(50708),it=n.n(ot);const at=({data:e})=>{const t=(0,y.s)(),n=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.id)===nt.Y.DSA_LEARN_MORE_ID&&window.open("https://www.tiktok.com/legal/page/global/reporting-illegal-content/en")},o=(0,i.useCallback)((()=>e.map((({time:o,title:i,desc:a},r)=>{return(0,p.jsxs)(He,{children:[(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ke,{children:(0,p.jsx)(tt,{})}),!(r===e.length-1)&&(0,p.jsx)(Ge,{})]}),(0,p.jsxs)(Ze,{children:[(0,p.jsx)(Qe,{children:o}),(0,p.jsx)(Xe,{children:i}),(l=a,l=l.replace(/{{(.*?)}}/g,(e=>(nt.Y.DSA_LEARN_MORE,`<b id='${nt.Y.DSA_LEARN_MORE_ID}' style="cursor: pointer">${t("dsa_illegal_placeholder_learnmore")}</b>`))),(0,p.jsx)(Ne,{dangerouslySetInnerHTML:{__html:it().sanitize(l)},onClick:n}))]})]},r);var l}))),[e]);return 0===e.length?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(Ve,{children:o()})};var rt=n(31367),lt=n(64162),st=n(4126),dt=n(93995),ct=n(340),pt=n(55322),ut=n(64356),mt=n(65729),gt=n(26324),ht=n(35572),vt=n(62564),bt=n(74690),_t=n(80339),ft=n(45297);let xt=class extends lt.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={visible:!1,reportId:"",reportType:"",code:"",reportDetail:{isLoading:!1,data:null}}}setVisible(e,t){e.visible=t}setReportDetail(e,t){e.reportDetail.data=t}setReportDetailLoading(e,t){e.reportDetail.isLoading=t}getReportDetail(e){return e.pipe((0,ht.p)((({reportId:e,reportType:t,code:n})=>this.service.getReportDetail({report_id:e,report_type:t,verification_code:n}).pipe((0,vt.T)((({body:{detail:e,status_code:t}})=>e&&0===t?this.getActions().setReportDetail(e):this.noop())),(0,bt.Z)(this.getActions().setReportDetailLoading(!0)),(0,_t.q)(this.getActions().setReportDetailLoading(!1)),(0,pt.n)({callback:this.commonToastError})))))}commonToastError(){H.F.destroy(),H.F.open({content:this.t(ft.z$),duration:3,widthType:"half"})}};(0,c.__decorate)([(0,st.h5)(),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Boolean]),(0,c.__metadata)("design:returntype",void 0)],xt.prototype,"setVisible",null),(0,c.__decorate)([(0,st.h5)(),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],xt.prototype,"setReportDetail",null),(0,c.__decorate)([(0,st.h5)(),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Boolean]),(0,c.__metadata)("design:returntype",void 0)],xt.prototype,"setReportDetailLoading",null),(0,c.__decorate)([(0,st.Mj)(),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[gt.c]),(0,c.__metadata)("design:returntype",void 0)],xt.prototype,"getReportDetail",null),xt=(0,c.__decorate)([(0,dt.n)("ReportInboxModal"),(0,c.__param)(1,(0,ct.y)(ut.hp)),(0,c.__metadata)("design:paramtypes",[mt.o,Function])],xt);var yt,kt,wt=n(46682),Ct=n(41271),jt=n(29793),St=n(53525),Tt=n(18431),Ot=n(49503);!function(e){e[e.IN_REVIEW=1]="IN_REVIEW",e[e.NO_VIOLATION=2]="NO_VIOLATION",e[e.VIOLATION=3]="VIOLATION",e[e.DELETE=4]="DELETE",e[e.NR_OR_NFF=5]="NR_OR_NFF"}(yt||(yt={})),function(e){e[e.VIOLATION_APPEAL=0]="VIOLATION_APPEAL",e[e.REPORT_DETAIL=1]="REPORT_DETAIL",e[e.REPORT=2]="REPORT"}(kt||(kt={}));var It=n(98910);const Mt=(0,i.memo)((function(){var e,t,n,o,a,l,s,d,c,u,m,g,h,v,b,_,f;const[x,k]=(0,i.useState)(kt.REPORT_DETAIL),w=function(){const{search:e}=(0,ie.useLocation)();return(0,i.useMemo)((()=>new URLSearchParams(e)),[e])}(),C=(0,y.s)(),j=(0,wt.w)(xt),S=(0,Ct.P)(xt,{selector:e=>{const{visible:t,reportDetail:n}=e;return{visible:t,reportDetail:n}},dependencies:[]}),O=(0,Ct.P)(r.L,{selector:e=>e.lang,dependencies:[]}),I=(0,Ct.P)(jt.hf,{selector:e=>{const{showing:t}=e;return{showing:t}},dependencies:[]}),M=(0,i.useMemo)((()=>w.has("report_id")&&w.has("code")&&w.has("report_type")),[w]),P=(0,i.useMemo)((()=>S.visible&&null!==S.reportDetail.data),[S.visible,S.reportDetail]),[D,A]=(0,i.useState)({code:"",reportId:"",reportType:""}),[R,E]=(0,i.useState)({lang:O,report_type:null!==(t=null===(e=S.reportDetail.data)||void 0===e?void 0:e.object_type_name)&&void 0!==t?t:"video",object_id:null!==(o=null===(n=S.reportDetail.data)||void 0===n?void 0:n.object_id)&&void 0!==o?o:"",owner_id:null!==(l=null===(a=S.reportDetail.data)||void 0===a?void 0:a.object_owner_id)&&void 0!==l?l:"",dsa_from_inbox:!0,report_record:null===(s=S.reportDetail.data)||void 0===s?void 0:s.report_record,report_id:D.reportId});(0,i.useEffect)((()=>{var e,t,n;if(M){const o=null!==(e=w.get("report_type"))&&void 0!==e?e:"",i=null!==(t=w.get("report_id"))&&void 0!==t?t:"",a=null!==(n=w.get("code"))&&void 0!==n?n:"";A({code:a,reportId:i,reportType:o}),j.getReportDetail({reportId:i,reportType:parseInt(o),code:a})}}),[M]),(0,i.useEffect)((()=>{if(S.reportDetail.data&&!S.reportDetail.isLoading){if(5===S.reportDetail.data.stage)return void(window.location.href="https://www.tiktok.com/legal/report/report-expired");if(6===S.reportDetail.data.stage)return void(window.location.href="https://www.tiktok.com/404");j.setVisible(!0)}}),[S.reportDetail,j]);const L=(0,i.useCallback)((()=>{j.setVisible(!1)}),[]),F=(0,i.useCallback)((()=>{var e,t;switch(null===(t=null===(e=S.reportDetail.data)||void 0===e?void 0:e.summary_text_infos)||void 0===t?void 0:t.status){case 1:return`${C("report_inbox_status")}: ${C("report_inbox_inreview")}`;case 3:return`${C("report_inbox_status")}: ${C("report_inbox_violation")}`;case 2:return`${C("report_inbox_status")}: ${C("report_inbox_noviolation")}`;case 4:return`${C("report_inbox_status")}: ${C("showVidStatus_reportInbox_vidStatusDeleted_label")}`;case 5:return`${C("report_inbox_status")}: ${C("showVidStatus_reportInbox_vidStatusIneligible_label")}`;default:return""}}),[S.reportDetail.data]),z=(0,i.useCallback)((()=>{var e,t;return null===(t=null===(e=S.reportDetail.data)||void 0===e?void 0:e.text_infos)||void 0===t?void 0:t.map((e=>({time:(0,St.z)(e.time),desc:e.content,title:e.title})))}),[S.reportDetail.data]),B=(0,i.useMemo)((()=>{var e,t;for(const n of null!==(t=null===(e=S.reportDetail.data)||void 0===e?void 0:e.see_option_infos)&&void 0!==t?t:[]){if(n.code===Tt.B8.RESUBMIT_REPORT)return Tt.B8.RESUBMIT_REPORT;if(n.code===Tt.B8.REQUEST_ANOTHER_REVIEW)return Tt.B8.REQUEST_ANOTHER_REVIEW}return""}),[S.reportDetail.data]),N=(0,i.useCallback)((()=>{var e,t,n,o,i,a,r;B===Tt.B8.RESUBMIT_REPORT?(E({lang:O,report_type:null!==(t=null===(e=S.reportDetail.data)||void 0===e?void 0:e.object_type_name)&&void 0!==t?t:"",object_id:null!==(o=null===(n=S.reportDetail.data)||void 0===n?void 0:n.object_id)&&void 0!==o?o:"",owner_id:null!==(a=null===(i=S.reportDetail.data)||void 0===i?void 0:i.object_owner_id)&&void 0!==a?a:"",dsa_from_inbox:!0,report_record:null===(r=S.reportDetail.data)||void 0===r?void 0:r.report_record,report_id:D.reportId,logged_out_code:D.code}),k(kt.REPORT)):B===Tt.B8.REQUEST_ANOTHER_REVIEW&&k(kt.VIOLATION_APPEAL)}),[S.reportDetail.data,D]);return(0,p.jsxs)(T.i,{compact:!0,isOpen:P&&!I.showing,closeOnEsc:!0,children:[x===kt.REPORT&&(0,p.jsx)(It.gQ,{reportTarget:R,onClose:L,onBack:()=>k(kt.REPORT_DETAIL)}),x===kt.REPORT_DETAIL&&(0,p.jsxs)(Ie,{children:[(0,p.jsxs)(Me,{children:[C("dsa_report_pg_header"),(0,p.jsx)(Pe,{children:(0,p.jsx)(De,{onClick:L,children:(0,p.jsx)(Fe.A,{width:24,height:24})})})]}),(0,p.jsxs)(Ae,{children:[(0,p.jsx)(Ue,{title:null!==(u=null===(c=null===(d=S.reportDetail.data)||void 0===d?void 0:d.summary_text_infos)||void 0===c?void 0:c.title)&&void 0!==u?u:"",description:null!==(h=null===(g=null===(m=S.reportDetail.data)||void 0===m?void 0:m.summary_text_infos)||void 0===g?void 0:g.content)&&void 0!==h?h:"",caption:null!==(v=F())&&void 0!==v?v:"",thumbnailUrl:null===(_=null===(b=S.reportDetail.data)||void 0===b?void 0:b.summary_text_infos)||void 0===_?void 0:_.cover_url}),(0,p.jsx)(Re,{children:(0,p.jsx)(at,{data:null!==(f=z())&&void 0!==f?f:[]})})]}),(0,p.jsx)(Ee,{children:""!==B&&(0,p.jsx)(rt.jl,{onClick:N,disabled:!1,children:B===Tt.B8.RESUBMIT_REPORT?C("dsa_illegal_report_inbox_resubmit"):B===Tt.B8.REQUEST_ANOTHER_REVIEW?C("tiktok_series_appeal_request_review_series_details_title"):""})})]}),x===kt.VIOLATION_APPEAL&&(0,p.jsx)(Le,{children:(0,p.jsx)(Ot.A,{verificationCode:D.code,reportId:D.reportId,onBack:()=>{k(kt.REPORT_DETAIL)},onClose:()=>{k(kt.REPORT_DETAIL),L()}})})]})}));var Pt=n(67518);const Dt=n.p+"57ca16f6b5b90c7753d0.png",At=n.p+"81479b0f5488c5f3b85d.png",Rt=(0,h.default)("div",{target:"e18jr0m50"})([{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:32}],"label:PanelContainer;"),Et=(0,h.default)("img",{target:"e18jr0m51"})((({width:e,height:t})=>({width:e||"336px",height:t||"125px"})),"label:Banner;"),Lt=(0,h.default)("h1",{target:"e18jr0m52"})([{marginTop:24,marginBottom:16}],"label:Title;"),Ft=(0,h.default)("p",{target:"e18jr0m53"})([{marginTop:0,marginBottom:24}],"label:Description;"),zt=(0,h.default)("div",{target:"e18jr0m54"})([{width:"100%",margin:"0 0px 24px"}],"label:DIVDailyPassContainer;"),Bt=(0,h.default)("div",{target:"e18jr0m55"})([{width:"100%",height:"45px",borderRadius:"4px"}],"label:DIVDailySTMPopupBtnContainer;"),Nt=(0,h.default)("div",{target:"e18jr0m56"})([{display:"flex",justifyContent:"space-between",textAlign:"left",marginBottom:16}],"label:IconDescriptionContainer;"),$t=({icon:e,children:t})=>(0,p.jsxs)(Nt,{children:[e," ",(0,p.jsx)("p",{style:{marginTop:0,marginBottom:0,marginLeft:12},children:t})]}),Yt=(0,h.default)("img",{target:"e18jr0m57"})([{width:"343px",height:"147px"}],"label:DailyMinorBanner;"),Wt="dailyscreentime_notifreminder_desc_minutes",Ut="familyPairing_dailyScreenTime_intervention_desc_minutes",Vt="dailyscreentime_notifreminder_desc_hours",Ht="familyPairing_dailyScreenTime_intervention_desc_hours",qt="familyPairing_dailyScreenTime_intervention_desc_hoursMinutes",Kt="dailyscreentime_notifreminder_toast_incorrectpasscode",Gt="nightscreentimemgmt_sleepreminders_modal_readyforsleep_heading",Zt="nightscreentimemgmt_sleepreminders_modal_readyforsleep_firstreminder_desc",Xt="nightscreentimemgmt_sleepreminders_modal_readyforsleep_editreminder_link",Qt="nightscreentimemgmt_sleepreminders_modal_readyforsleep_ok_btn",Jt="nightscreentimemgmt_sleepreminders_modal_readyforsleep_delay_btn_variantone",en="screentime_breakreminder_modal_timetotakeabreak_title",tn="screentime_breakreminder_modal_timetotakeabreak_desc_1",nn="screentime_breakreminder_modal_editreminder_link",on="screentime_breakreminder_modal_ok_btn",an="screentime_breakreminder_modal_snooze_link",rn="dailyscreentime_notifreminder_header_ready",ln="familyPairing_dailyScreenTime_intervention_returnToTikTok_toast",sn="dailyscreentime_notifreminder_button_returntotiktok",dn="dailyscreentime_introsheet_minors_heading",cn="dailyscreentime_introsheet_minors_firstbullet_logoff",pn="dailyscreentime_introsheet_minors_secondbullet_settingsprivacy",un="dailyscreentime_introsheet_minors_firstbutton_gotit",mn="dailyscreentime_introsheet_minors_secondbutton_manage";var gn=n(73580),hn=n(82189),vn=n(77069),bn=n(86515);const _n=({passcode:e="1234",onClose:t,hours:n,minutes:o})=>{var a;const r=(0,y.s)(),{isDark:l}=(0,Pt.u)(),[s,d]=(0,i.useState)(""),c=!s,m=(0,u.Ab)({zIndex:999999}),[g,h]=(0,i.useState)(""),[v,b]=(0,wt.S)(hn.z),_=(0,gn.Nj)(vn.i),f=(0,i.useMemo)((()=>v.isFpTeenOpenDailySTM),[v.isFpTeenOpenDailySTM]),x=(0,i.useMemo)((()=>v.parentUsername),[v.parentUsername]),{user:k}=null!==(a=(0,ne.W)((()=>["user"]),[]))&&void 0!==a?a:{},w=()=>{m.open({id:"stmPasscodeSuccess",message:r(ln,{},"You've returned to Tiktok"),durationMS:3e3,hasTickIcon:!0}),_.uploadDailySTMPopupSuccess({date:(0,bn.zk)(new Date),screen_time_limit_type:f?3:1}).subscribe(),"function"==typeof t&&t(),_.uploadMetric("web_users_return_tt")},C=()=>{h(r(Kt,{},"The passcode you entered is incorrect. Please try again.")),_.uploadMetric("web_dstime_passcode_error")},j=(0,i.useMemo)((()=>{if(o&&n){const e=(0,bn.gO)(r("dailyscreentime_notifreminder_desc_hoursminutes",{hours:String(n),minutes:String(o)},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(n),minutes:String(o)}).split("<b>1234</b>");return[e[0],(0,p.jsx)("b",{children:"1234"},"passwcode"),e[1]]}if(n){const e=(0,bn.gO)(r(Vt,{hours:String(n)},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(n)}).split("<b>1234</b>");return[e[0],(0,p.jsx)("b",{children:"1234"},"passwcode"),e[1]]}const e=(0,bn.gO)(r(Wt,{minutes:String(o)},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{minutes:String(o)}).split("<b>1234</b>");return[e[0],(0,p.jsx)("b",{children:"1234"},"passwcode"),e[1]]}),[r,n,o]),S=(0,i.useMemo)((()=>o&&n?(0,bn.gO)(r(qt,{minutes:String(o),hours:String(n),username:x},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(o),hours:String(n),username:x}):n?(0,bn.gO)(r(Ht,{hours:String(n),username:x},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{hours:String(n),username:x}):(0,bn.gO)(r(Ut,{minutes:String(o),username:x},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(o),username:x})),[r,x,n,o]),T=(0,i.useMemo)((()=>f?S:j),[f,j,S]);return(0,p.jsxs)(Rt,{children:[(0,p.jsx)(Et,{src:l?Dt:At,height:"145px"}),(0,p.jsx)(Lt,{children:r(rn,{},"Ready to close Tiktok")}),(0,p.jsx)(Ft,{children:T}),(0,p.jsx)(zt,{children:(0,p.jsx)(u.R8,{errorText:g,maxLength:4,value:s,onChange:e=>{const t=e.target.value.replace(/[^\d]/g,"");d(t),h("")},block:!0})}),(0,p.jsx)(Bt,{children:(0,p.jsx)(u.I0,{disabled:c,onClick:()=>{try{if(_.uploadMetric("web_dstime_enter_passcode"),f){if(f){const e=(0,bn.Zf)(s,(null==k?void 0:k.uid)||"");_.uploadDailySTMTeenPinSuccess(e).subscribe({next:e=>{0===e.status_code?w():C()},error:()=>{C()}})}}else s!==e?C():w()}catch(e){console.error(e),C()}},label:r(sn,{},"Return to Tiktok"),variant:"primary",size:"large",block:!0})})]})},fn=()=>{const e=(0,gn.Nj)(vn.i),[t,n]=(0,wt.S)(hn.z),o=(0,i.useMemo)((()=>Math.floor((t.timeUsageToday+t.activeTimeUsage)/3600)),[t.timeUsageToday,t.activeTimeUsage]),a=(0,i.useMemo)((()=>Math.round((t.timeUsageToday+t.activeTimeUsage)%3600/60)),[t.timeUsageToday,t.activeTimeUsage]),r=(0,i.useMemo)((()=>(1===t.STMInterventionType||3===t.STMInterventionType)&&t.defaultDailySTMPopup&&t.isOpenDailySTM),[t.STMInterventionType,t.defaultDailySTMPopup,t.isOpenDailySTM]);return(0,i.useEffect)((()=>{r&&e.uploadMetric("web_stm_pop_up")}),[r]),(0,p.jsx)(u.Mw,{isOpen:r,size:"Small",children:(0,p.jsx)(_n,{hours:o,minutes:a,onClose:()=>{n.setDefaultDailySTMPopup(!1)}})})},xn=n.p+"d5dd413dd013f33ce41d.png",yn=n.p+"e492c6985a0d758503d5.png";var kn=n(93897),wn=n(70813);const Cn=(0,h.default)("div",{target:"ez2j8bk0"})((({isPopup:e=!1})=>({position:"relative",paddingTop:"8px",padding:e?"15px":"20px"})),"label:DivDailyEditContainer;"),jn=(0,h.default)("div",{target:"ez2j8bk1"})((()=>({cursor:"pointer"})),"label:DivXMarkContainer;"),Sn=(0,h.default)("div",{target:"ez2j8bk2"})((({isPopup:e=!1,theme:{colors:t}})=>({fontSize:"24px",lineHeight:"32px",margin:"0 8px 20px",fontWeight:700,color:t.TextPrimary,display:e?"flex":"block",justifyContent:"space-between"})),"label:DivSettingTitle;");var Tn=n(30543),On=n(47772);const In=e=>{const{isOpen:t,handleOnClose:n}=e,o=(0,y.s)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Mw,{isOpen:t,size:"Medium",onClose:n,children:(0,p.jsx)("div",{children:(0,p.jsxs)(Cn,{children:[(0,p.jsxs)(Sn,{isPopup:!0,children:[(0,p.jsx)("span",{children:o("dailyscreentime_featurescreen_heading")}),(0,p.jsx)(jn,{children:(0,p.jsx)(Tn.A,{onClick:n})})]}),(0,p.jsx)(On.m,{isPopup:!0,handleEditClose:n})]})})})})},Mn=e=>{const t=(0,y.s)(),{isDark:n}=(0,Pt.u)(),o=(0,gn.Nj)(vn.i),{onClose:i,onManage:a}=e;return(0,p.jsxs)(Rt,{children:[(0,p.jsx)(Yt,{src:n?xn:yn}),(0,p.jsx)(Lt,{children:t(dn,{},"To support your well-being, your daily screen time is set to 1 hour")}),(0,p.jsx)($t,{icon:(0,p.jsx)(kn.A,{fontSize:24}),children:t(cn,{},"We’ll let you know if your time is up so it’s easier to log off")}),(0,p.jsx)($t,{icon:(0,p.jsx)(wn.A,{fontSize:24}),children:t(pn,{},"You can manage your daily screen time in Settings and privacy")}),(0,p.jsx)(u.I0,{onClick:()=>{o.uploadDailySTMPopupSuccess({date:(0,bn.zk)(new Date),screen_time_limit_type:2}).subscribe(),"function"==typeof i&&i(),o.uploadMetric("web_stm_got_it")},label:t(un,{},"Got it"),variant:"primary",block:!0,size:"large",marginBlockStart:"26px"}),(0,p.jsx)(u.QK,{onClick:a,label:t(mn,{},"Manage Daily Screen Time"),color:"Primary",marginBlockStart:"18px"})]})},Pn=()=>{const[e,t]=(0,wt.S)(hn.z),n=(0,gn.Nj)(vn.i),[o,a]=(0,i.useState)(!1),r=(0,i.useMemo)((()=>{const t=2===e.STMInterventionType&&e.defaultDailySTMPopup;return t&&n.uploadMetric("web_stm_pop_up"),t}),[e.STMInterventionType,e.defaultDailySTMPopup]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Mw,{isOpen:r,size:"Small",children:(0,p.jsx)(Mn,{onClose:()=>{t.setDefaultDailySTMPopup(!1)},onManage:()=>{a(!0),t.setDefaultDailySTMPopup(!1),n.uploadDailySTMPopupSuccess({date:(0,bn.zk)(new Date),screen_time_limit_type:2}).subscribe()}})}),(0,p.jsx)(In,{isOpen:o,handleOnClose:()=>{a(!1)}})]})},Dn=n.p+"2c1d4382cd9969108f39.png",An=n.p+"4b26de0aac3c17d07010.png";var Rn=n(26456),En=n(81006);const Ln=e=>{const{isOpen:t,handleOnClose:n}=e,o=(0,y.s)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Mw,{isOpen:t,size:"Medium",onClose:n,children:(0,p.jsx)("div",{children:(0,p.jsxs)(Cn,{children:[(0,p.jsxs)(Sn,{isPopup:!0,children:[(0,p.jsx)("span",{children:o("nightscreentimemgmt_screentimesettings_sleepreminders_feature_name")}),(0,p.jsx)(jn,{children:(0,p.jsx)(Tn.A,{onClick:n})})]}),(0,p.jsx)(En.r,{isPopup:!0,handleEditModleClose:n})]})})})})},Fn=({onManage:e})=>{const[t,n]=(0,wt.S)(hn.z),o=(0,gn.Nj)(vn.i),a=(0,y.s)(),{isDark:r}=(0,Pt.u)(),l=(0,i.useMemo)((()=>{var e,n;const o=(null===(e=t.sleepTimeSettings)||void 0===e?void 0:e.sleep_time_start_hour)||0,i=(null===(n=t.sleepTimeSettings)||void 0===n?void 0:n.sleep_time_start_minute)||0,a=(new Date).setHours(o,i);return Rn.Ay.format(a,"LT")}),[t.sleepTimeSettings]);return(0,p.jsxs)(Rt,{children:[(0,p.jsx)(Et,{src:r?Dn:An}),(0,p.jsx)(Lt,{children:a(Gt,{},"Ready for bed?")}),(0,p.jsx)(Ft,{children:a(Zt,{string:l},`You’ve set your sleep time for ${l}.`)}),(0,p.jsx)(u.I0,{onClick:()=>{n.setSleepReminderPopup(!1),t.sleepTimeSettings&&n.uploadSleepReminderAction({sleep_time_settings:t.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:2}),o.uploadMetric("web_sleep_reminder_ok")},label:a(Qt,{},"OK"),variant:"primary",block:!0,size:"large",marginBlock:"8px"}),(0,p.jsx)(u.I0,{onClick:()=>{n.delaySleep(),n.setSleepReminderPopup(!1),t.sleepTimeSettings&&n.uploadSleepReminderAction({sleep_time_settings:t.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:1}),o.uploadMetric("web_sleep_reminder_delay")},label:a(Jt,{},"Delay (10m)"),variant:"secondary",block:!0,size:"large",marginBlock:"8px"}),(0,p.jsx)(u.QK,{onClick:e,label:a(Xt,{},"Edit reminder"),color:"Primary",marginBlockStart:"12px"})]})},zn=()=>{const[e,t]=(0,wt.S)(hn.z),n=(0,gn.Nj)(vn.i),[o,a]=(0,i.useState)(!1),r=(0,i.useMemo)((()=>!e.defaultDailySTMPopup&&e.sleepReminderPopup&&e.isOpenSleepReminder),[e.sleepReminderPopup,e.defaultDailySTMPopup,e.isOpenSleepReminder]);return(0,i.useEffect)((()=>{r&&(e.sleepTimeSettings&&t.uploadSleepReminderAction({sleep_time_settings:e.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:3}),n.uploadMetric("web_sleep_reminder_pop_up"))}),[r]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Mw,{isOpen:r,size:"Small",children:(0,p.jsx)(Fn,{onManage:()=>{a(!0),t.setSleepReminderPopup(!1),e.sleepTimeSettings&&t.uploadSleepReminderAction({sleep_time_settings:e.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:2}),n.uploadMetric("web_sleep_reminder_edit")}})}),(0,p.jsx)(Ln,{isOpen:o,handleOnClose:()=>{a(!1)}})]})},Bn=n.p+"699cc32d70bd43f9f12c.png",Nn=n.p+"a28add8a9a2b2b3749c9.png";var $n=n(47951);const Yn=e=>{const{isOpen:t,handleOnClose:n}=e,o=(0,y.s)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Mw,{isOpen:t,size:"Medium",onClose:n,children:(0,p.jsx)("div",{children:(0,p.jsxs)(Cn,{children:[(0,p.jsxs)(Sn,{isPopup:!0,children:[(0,p.jsx)("span",{children:o("screentime_settings_screentimebreaks_title")}),(0,p.jsx)(jn,{children:(0,p.jsx)(Tn.A,{onClick:n})})]}),(0,p.jsx)($n.Q,{isPopup:!0,handleEditPopupClose:n})]})})})})};var Wn=n(68310);const Un=({onManage:e})=>{const[t,n]=(0,wt.S)(hn.z),o=(0,gn.Nj)(vn.i),{isDark:i}=(0,Pt.u)(),a=(0,y.s)();return(0,p.jsxs)(Rt,{children:[(0,p.jsx)(Et,{src:i?Bn:Nn}),(0,p.jsx)(Lt,{children:a(en,{},"Time to take a break")}),(0,p.jsx)(Ft,{children:a(tn,{num:t.durationReminder},`You’ve had ${t.durationReminder} minutes of uninterrupted screen time. Consider taking a break for a while.`)}),(0,p.jsx)(u.I0,{onClick:()=>{n.setBreakReminderPopup(!1),o.uploadMetric("web_time_break_ok")},label:a(on,{},"OK"),variant:"primary",block:!0,size:"large",marginBlockStart:"8px"}),(0,p.jsx)(u.I0,{onClick:()=>{n.setBreakReminderPopup(!1),n.startTimeBreakSnoozeTimer(),o.uploadMetric("web_time_break_snooze")},label:a(an,{},"Snooze (10m)"),variant:"secondary",block:!0,size:"large",marginBlockStart:"12px"}),(0,p.jsx)(u.QK,{onClick:e,label:a(nn,{},"Edit future reminders"),color:"Primary",marginBlockStart:"12px"})]})},Vn=()=>{const[e,t]=(0,wt.S)(hn.z),n=(0,gn.Nj)(vn.i),[o,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{e.breakReminderPopup&&(n.uploadMetric("web_time_break_pop"),(0,bn.nN)("updateActiveTimeUsage",{value:{activeTimeUsage:0,timeStamp:(new Date).getTime()}},Wn.LH))}),[e.breakReminderPopup]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Mw,{isOpen:e.breakReminderPopup,size:"Small",children:(0,p.jsx)(Un,{onManage:()=>{a(!0),t.setBreakReminderPopup(!1),n.uploadMetric("web_time_break_edit")}})}),(0,p.jsx)(Yn,{isOpen:o,handleOnClose:()=>{a(!1)}})]})},Hn=(0,h.default)("div",{target:"e16yqw5k0"})((({isMobile:e})=>({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:32,height:"100%",gap:"40px",paddingTop:"200px",justifyContent:e?"space-between":void 0,paddingBottom:e?"150px":void 0})),"label:ScheduledBreakContainer;"),qn=(0,h.default)("div",{target:"e16yqw5k1"})((({isMobile:e})=>({color:"rgba(246, 246, 246, 1)",fontSize:e?"40px":"80px",lineHeight:e?"48px":"96px",textAlign:"center",fontWeight:700,padding:e?"5px":void 0})),"label:Title;"),Kn=(0,h.default)("div",{target:"e16yqw5k2"})((({isMobile:e})=>({fontWeight:500,color:"rgba(255, 255, 255, 0.88)",fontSize:e?"16px":"20px",lineHeight:e?"20px":"25px",textAlign:"center",letterSpacing:e?"0%":"1.5%",maxWidth:"640px",padding:e?"5px":void 0})),"label:Subtitle;"),Gn=(0,h.default)("div",{target:"e16yqw5k3"})([{position:"fixed",backgroundColor:"rgba(0, 0, 0, 1)",bottom:0,zIndex:3001,left:0,top:0,right:0,width:"100vw",height:"100vh",overflow:"hidden"}],"label:ModalContainer;"),Zn=(0,h.default)("div",{target:"e16yqw5k4"})([{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",justifyContent:"center"}],"label:BackgroundImageContainer;"),Xn=(0,h.default)("img",{target:"e16yqw5k5"})([{height:"100%",objectFit:"cover"}],"label:BackgroundImage;"),Qn=(0,h.default)("div",{target:"e16yqw5k6"})([{position:"relative",zIndex:1,height:"100%"}],"label:ModalContent;"),Jn=(0,h.default)("button",{target:"e16yqw5k7"})((({isMobile:e})=>({backgroundColor:"white",padding:e?"12px 40px 12px 40px":"8px 14px 8px 14px",borderRadius:e?"20px":"6px"})),"label:SettingButton;"),eo=(0,h.default)("div",{target:"e16yqw5k8"})([{color:"black",gap:"4px",marginRight:"10px",marginLeft:"10px",fontWeight:500,fontSize:"16px",textAlign:"center"}],"label:SettingButtonText;"),to=n.p+"e0c522d68f9718996605.png";var no=n(67169),oo=n(32241);const io=e=>{const{isOpen:t,children:n,id:o}=e;return t?(0,p.jsxs)(Gn,{id:o,children:[(0,p.jsx)(Zn,{children:(0,p.jsx)(Xn,{src:to})}),(0,p.jsx)(Qn,{children:n})]}):null},ao=e=>{const{onSettingClick:t,rule:n,isMobile:o}=e,i=(0,y.s)();return(0,p.jsxs)(Hn,{isMobile:o,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(qn,{isMobile:o,children:i("FPscheduledBreak_teenBreaklimit_headline",{},"Time Away")}),(0,p.jsx)(Kn,{isMobile:o,children:i("FPscheduledBreak_teenBreaklimit_content",{s_startTime:n.startTime,s_endTime:n.endTime},"Your parent or guardian scheduled time away for you between {s_startTime}-{s_endTime}.")})]}),(0,p.jsx)(Jn,{onClick:t,isMobile:o,children:(0,p.jsx)(eo,{children:i("FPscheduledBreak_teenBreaklimit_settingsButton",{},"View Settings")})})]})},ro=e=>{const{onSettingClick:t,isMobile:n,header:o}=e,[a]=(0,wt.S)(hn.z),{mute:r,setMute:l}=(0,no.ah)({playMode:0,itemMute:!1}),{mobileDefaultMute:s}=(0,oo.bn)(),{setMobileDefaultMute:d}=(0,oo._B)(),c=a.scheduledBreakActive||!1;var m,g;return m="full-modal-id",g=c,(0,i.useEffect)((()=>{let e;return g&&(e=setInterval((()=>{document.getElementById(m)||window.location.reload()}),1e3)),()=>{e&&clearInterval(e)}}),[m,g]),(0,i.useEffect)((()=>{c&&(n&&!s?d(!0):n||r||l(!0))}),[n,c,s,r,d,l]),(0,i.useEffect)((()=>{c&&ue.f.event("show_scheduled_break_block",{type:"global"})}),[c]),(0,p.jsx)(u.Mw,{isOpen:c,size:"Small",children:(0,p.jsx)(io,{id:"full-modal-id",isOpen:c,children:(0,p.jsxs)(p.Fragment,{children:[o,(0,p.jsx)(ao,{onSettingClick:t,rule:a.scheduledBreakActiveRule,isMobile:n})]})})})};var lo=n(57061),so=n.n(lo);const co=n.p+"b3dd0b7f20ed0c4384f1.png";var po=n(95810);const uo=(0,h.default)("div",{target:"eiv77n20"})({display:"flex",flexDirection:"column",alignItems:"center",width:"311px",padding:"40px 28px 12px",textAlign:"center",wordBreak:"break-word"},"label:DivContainer;"),mo=(0,h.default)("p",{target:"eiv77n21"})((({theme:e})=>[{marginBottom:"16px",fontSize:"17px",lineHeight:"18px"},(0,M.zy)({theme:e,fontWeight:"semiBold"})]),"label:PTitle;"),go=(0,h.default)("p",{target:"eiv77n22"})((({theme:e})=>[{margin:"16px 0 4px",fontSize:"12px",lineHeight:"13px"},(0,M.zy)({theme:e,color:"TextSecondary"})]),"label:POtherDesc;"),ho=po.Hi.title.ecom_email_redesign_order_details_page,vo=po.Hi.desc.ecom_email_redesign_order_details_page,bo=function({url:e}){var t,n;const o=(0,y.s)(),{search:a}=(0,ie.useLocation)(),[r,l]=(0,i.useState)(!0),[s,d]=(0,i.useState)(""),c=new URLSearchParams(a);(0,i.useEffect)((()=>{var e;d(null!==(e=c.get("scene"))&&void 0!==e?e:""),history.replaceState(null,"","/")}),[]);const u=(0,i.useCallback)((()=>{l(!1)}),[]);return(0,p.jsx)(G.aF,{visible:r,onClose:u,children:(0,p.jsxs)(uo,{children:[(0,p.jsx)(mo,{children:o(null!==(t=po.Hi.title[s])&&void 0!==t?t:ho)}),(0,p.jsx)(so(),{size:170,value:e,style:{padding:"12px",borderRadius:"12px",border:"1px solid #f2f2f2"}}),(0,p.jsx)(go,{children:o(null!==(n=po.Hi.desc[s])&&void 0!==n?n:vo)}),(0,p.jsx)("img",{src:co,width:131,height:40})]})})};var _o=n(95185),fo=n(16457),xo=n(82715),yo=n(56546),ko=n(58542),wo=n(60484),Co=n(15936);const jo=e=>{return t=void 0,n=void 0,i=function*(){const{cors:t,downloadAddress:n,fileName:o}=e;try{const e=yield fetch(n,t?{mode:"cors",credentials:"include"}:{}),i=yield e.blob(),a=window.URL.createObjectURL(i),r=document.createElement("a");return r.href=a,o&&(r.download=o),document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r),window.URL.revokeObjectURL(a)}),0),!0}catch(e){return!1}},new((o=void 0)||(o=Promise))((function(e,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,l)}s((i=i.apply(t,n||[])).next())}));var t,n,o,i};const So=()=>{var e;const{itemId:t}=(0,Se.fd)((e=>({itemId:e.videoInfo.videoId})),K.bN),[n,o]=(0,Te.l8)((e=>e[t]),K.bN),{itemMute:a=!1,authorPrivate:r=!1,downloadSetting:l=0}=(0,wo.L$)(n),s=null!==(e=null==n?void 0:n.video.downloadAddr)&&void 0!==e?e:"",d=(0,y.s)(),c=(0,i.useMemo)((()=>!s||!(!r&&0===l&&!a)),[s,r,l,a]),u=(0,i.useCallback)((()=>{return e=void 0,n=void 0,a=function*(){be.Z.handleDownload({media_type:"video",enter_method:"click_context_menu",group_id:t}),(yield jo({cors:!0,downloadAddress:s,fileName:"Download"}))||(yield jo({cors:!1,downloadAddress:s,fileName:"Download"})),o.addMlModelTrainData({id:t,action:"download"})},new((i=void 0)||(i=Promise))((function(t,o){function r(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,l)}s((a=a.apply(e,n||[])).next())}));var e,n,i,a}),[s,o,t]),m=(0,Co.B)(u);return c?null:(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_download-video",leadingIcon:(0,p.jsx)(ko.rGY,{}),onClick:u,onKeyDown:m,children:d("TTweb_fyf_menuDownloadVideo_menuLink")})};var To=n(2584),Oo=n(62512),Io=n(58791);const Mo=({shareReporter:e})=>{var t;const{user:n}=null!==(t=(0,ne.W)((()=>["user"]),[]))&&void 0!==t?t:{},{itemId:o}=(0,Se.fd)((e=>({itemId:e.videoInfo.videoId})),K.bN),a=(0,Te.F3)((e=>e[o]),K.bN),r=(0,Oo.Vv)(),l=(0,y.s)(),s=(0,Io.$)({actionWhenUserLoggedIn:(0,i.useCallback)((()=>{r.openMessagePanel(o),e.handleClickShare({author_id:null==a?void 0:a.authorId,group_id:o,enter_method:"click_context_menu",media_type:"video"})}),[null==a?void 0:a.authorId,o,r,e]),modalConfig:{query:{enter_method:"click_share"}},sideEffect:(0,i.useCallback)((()=>To.O.handleGeneralClick("share_video",{group_id:o})),[o])}),d=s,c=(0,Co.B)(d);return n&&!n.hasIMPermission?null:(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_send-to-friend",leadingIcon:(0,p.jsx)(ko.RBK,{}),onClick:s,onKeyDown:c,children:l("TTweb_fyf_menuSendtoFriend_menuLink")})};var Po=n(23237);const Do=({getVideoPath:e})=>{const{itemId:t}=(0,Se.fd)((e=>({itemId:e.videoInfo.videoId})),K.bN),[n,o]=(0,Te.l8)((e=>e[t]),K.bN),a=(0,y.s)(),{showToast:r}=(0,Po.n)("top"),l=`https://www.tiktok.com${n?e(n):""}?is_from_webapp=1&sender_device=pc`,s=!!(null==n?void 0:n.imagePost),d=(0,i.useCallback)((()=>{return e=void 0,n=void 0,d=function*(){be.Z.handleCopyVideoUrl({media_type:s?"photo":"video",enter_method:"click_context_menu",group_id:t}),yield navigator.clipboard.writeText(l),o.addMlModelTrainData({id:t,action:"share"}),r(a("Copied"))},new((i=void 0)||(i=Promise))((function(t,o){function a(e){try{l(d.next(e))}catch(e){o(e)}}function r(e){try{l(d.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,r)}l((d=d.apply(e,n||[])).next())}));var e,n,i,d}),[s,o,t,r,a,l]),c=(0,Co.B)(d);return(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_copy-link",leadingIcon:(0,p.jsx)(ko.y3_,{}),onClick:d,onKeyDown:c,children:a("copy_link")})};const Ao=()=>{const{videoId:e,videoElement:t}=(0,Se.fd)((e=>({videoId:e.videoInfo.videoId,videoElement:e.videoInfo.videoElement})),K.bN),n=(0,y.s)(),{showToast:o}=(0,Po.n)("top"),a=(0,i.useCallback)((()=>{return n=void 0,i=void 0,r=function*(){try{t instanceof HTMLVideoElement&&(yield t.requestPictureInPicture()),be.Z.handlePictureInPicture({media_type:"video",enter_method:"click_context_menu",group_id:e})}catch(e){o("changeRegistrationLocation_weakWarning_loseFeatures_toast")}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{s(r.next(e))}catch(e){t(e)}}function l(e){try{s(r.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,l)}s((r=r.apply(n,i||[])).next())}));var n,i,a,r}),[o,t,e]),r=(0,Co.B)(a);return document.pictureInPictureEnabled?(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_pip",leadingIcon:(0,p.jsx)(ko.LdG,{}),onClick:a,onKeyDown:r,children:n("TTweb_fyf_menuPictureinPicture_menuLink")}):null},Ro=({handleOpenManageFeedModal:e})=>{const t=(0,y.s)(),n=(0,i.useCallback)((()=>e()),[e]),o=(0,Co.B)(n);return(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_manage-feeds",leadingIcon:(0,p.jsx)(ko.lKh,{}),onClick:n,onKeyDown:o,children:t("nonpersonalizedFeeds_feed_entrypoint_manageFeed")})};var Eo=n(67963);const Lo=({getVideoPath:e,onClick:t})=>{const{itemId:n}=(0,Se.fd)((e=>({itemId:e.videoInfo.videoId})),K.bN),o=(0,Te.F3)((e=>e[n]),K.bN),a=(0,y.s)(),r=`${o?e(o):""}?is_from_webapp=1&sender_device=pc`,l=!!(null==o?void 0:o.imagePost),s=(0,i.useCallback)((()=>{ue.f.sendEvent("enter_video_detail",{media_type:l?"photo":"video",enter_method:"click_context_menu"}),null==t||t()}),[l,t]),d=(0,Co.B)(s);return(0,p.jsx)(Eo.N_,{to:r,children:(0,p.jsx)(ko.KhS,{"data-e2e":"right-click-menu-popover_view-video-details",leadingIcon:(0,p.jsx)(ko.ND_,{}),onClick:s,onKeyDown:d,children:a(l?"ls_view_details":"webAnalytics_videoDetail_viewPerformance")})})},Fo=({shareReporter:e,handleOpenManageFeedModal:t,useGetVideoPath:n,onDetailPageItemClick:o})=>{const[{contextMenuOpen:i,location:{x:a,y:r},menuOptions:l},{setContextMenuOpen:s}]=(0,Se.xx)((e=>e),K.bN),d=n();return(0,p.jsxs)(ko.nb1,{positionStrategy:"fixed",trigger:(0,p.jsx)("div",{style:{position:"fixed",left:a,top:r}}),className:"context-menu","data-e2e":"context-menu",open:i,onOpenChange:s,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),children:[l.includes("download")&&(0,p.jsx)(So,{}),l.includes("share")&&(0,p.jsx)(Mo,{shareReporter:e}),l.includes("link")&&(0,p.jsx)(Do,{getVideoPath:d}),l.includes("pip")&&(0,p.jsx)(Ao,{}),l.includes("manage-feed")&&(0,p.jsx)(Ro,{handleOpenManageFeedModal:t}),(l.includes("details")||l.includes("photo"))&&(0,p.jsx)(Lo,{getVideoPath:d,onClick:o})]})};var zo=n(50190),Bo=n(91164);const No=(0,h.default)("div",{target:"eu9acoa0"})({height:"60px",width:"100%",backgroundColor:"black",justifyContent:"space-between",display:"flex",paddingRight:"24px",paddingLeft:"16px",alignItems:"center"},"label:ScheduledBreaksHeaderContainer;"),$o=()=>(0,o.FD)(No,{style:{height:"60px",width:"100%",backgroundColor:"black",justifyContent:"space-between",display:"flex",paddingRight:"24px",paddingLeft:"16px",alignItems:"center"},children:[(0,o.Y)(zo.g,{isDark:!0}),(0,o.Y)(Bo.W,{})]});var Yo=n(9522),Wo=n(76127),Uo=n(75431);const Vo=(0,h.default)("div",{target:"e2zl2wl0"})((({theme:e,ready:t})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,maxWidth:t?"700px":"unset",width:t?"unset":"700px",height:"335.5px",overflowY:"auto",overflowX:"hidden",padding:"0px 24px 24px 24px"})),"label:DivContentWrapper;"),Ho=(0,h.default)("div",{target:"e2zl2wl1"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivHeader;"),qo=(0,h.default)("div",{target:"e2zl2wl2"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Ko=(0,h.default)("h4",{target:"e2zl2wl3"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4Title;"),Go=(0,h.default)("div",{target:"e2zl2wl4"})({paddingTop:"24px"},"label:DivSectionWrapper;"),Zo=(0,h.default)("p",{target:"e2zl2wl5"})((({theme:e})=>[(0,M.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"medium"}),{fontSize:"18px",lineHeight:"23.4px"}]),"label:PSubTitle;"),Xo=(0,h.default)("ul",{target:"e2zl2wl6"})({paddingTop:"6px",paddingLeft:"15px",margin:"0px"},"label:UlWrapper;"),Qo=(0,h.default)("li",{target:"e2zl2wl7"})((({theme:e})=>[(0,M.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextSecondary"}),{fontSize:"16px",lineHeight:"20.8px",paddingTop:"8px"}]),"label:LiItems;"),Jo=(0,h.default)("p",{target:"e2zl2wl8"})((({theme:e})=>[(0,M.zy)({theme:e,fontWeight:"medium",color:"TextPrimary"}),{display:"inline"}]),"label:PBoldItem;"),ei=(0,h.default)("p",{target:"e2zl2wl9"})((({theme:e})=>[(0,M.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextSecondary"}),{fontSize:"16px",lineHeight:"20.8px",paddingTop:"24px",whiteSpace:"break-spaces"},Uo.AH`
    .bold {
      ${(0,M.zy)({theme:e,fontWeight:"medium",color:"TextPrimary"})}
    }
  `]),"label:PFallback;"),ti=(0,h.default)("div",{target:"e2zl2wl10"})((({theme:e})=>[(0,M.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"medium",color:"TextSecondary"}),{borderTop:`1px solid ${e.colors.LineSecondary}`,display:"flex",alignItems:"center",paddingLeft:"24px",paddingRight:"24px",height:"72px",justifyContent:"space-between"}]),"label:DivChangeSettingWrapper;"),ni=(0,h.default)(Yo.A,{target:"e2zl2wl11"})({width:"24px",height:"24px"},"label:ChangeSettingIcon;"),oi=(0,h.default)("p",{target:"e2zl2wl12"})({display:"flex",fontSize:"18px",lineHeight:"23.4px"},"label:PChangeSettingContent;"),ii=(0,h.default)(Eo.N_,{target:"e2zl2wl13"})((({theme:{direction:e}})=>[(0,M.mp)({direction:e,paddingStart:"8px"})]),"label:AChangeSettingLink;"),ai=(0,h.default)(Wo.A,{target:"e2zl2wl14"})((({theme:{direction:e}})=>({width:"24px",height:"24px",transform:`rotate(${"ltr"===e?0:"180deg"})`})),"label:ArrowIcon;"),ri=(0,h.default)("div",{target:"e2zl2wl15"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMMid;");var li,si=n(26930),di=n(53174),ci=n(79395);!function(e){e.Geo="geo",e.Country="country"}(li||(li={}));const pi=({orientationInfo:e,handleLinkClick:t})=>{const n=di.e.useServiceState(),{geo:i="",country:a=""}=n,{orientation_item:r="",orientation_text:l="",geoCountry_type:s="",url:d}=e;let c=l;switch(s){case"geo":c=l.replace("%s",i);break;case"country":c=l.replace("%s",a)}const p="geo"===s,u=p?i:r,m=c.indexOf(u),g=m+u.length,h=c.substring(0,m),v=c.substring(m,g),b=c.substring(g);return(0,o.FD)(o.FK,{children:[h,(()=>{const e=(0,o.Y)(Jo,{children:v});return p?(0,o.Y)(Jo,{children:i}):d?(0,o.Y)("a",{href:d,target:"_blank",rel:"noopener noreferrer",onClick:t,children:e}):e})(),b]})};var ui,mi=n(97071),gi=n(41065),hi=n(25342),vi=n(46238),bi=n(16085);!function(e){e[e.Unknown=0]="Unknown",e[e.StaticContent=1]="StaticContent",e.Age="age_range",e.Location="location",e.Interest="displayed_interest_categories",e.Creator="behavior_creator_categories",e.Video="behavior_video_categories",e.Gender="gender_status",e.LanguageList="app_langugage",e.BehaviorCreator="behavior_creator_categories",e.BusinessName="business_name",e.AdvLocation="business_location",e.AdvStatus="toggle_initial_status",e.FundingParty="funding_party"}(ui||(ui={}));const _i={0:0,1:1,2:"age_range",3:"location",4:"displayed_interest_categories",5:"behavior_creator_categories",6:"behavior_video_categories",7:"gender_status",8:"app_langugage",9:"behavior_creator_categories",10001:"business_name",10002:"business_location",10003:"toggle_initial_status",10004:"funding_party"},fi=["displayed_interest_categories","app_langugage","behavior_creator_categories","toggle_initial_status","funding_party"],xi=()=>{var e,t;const[n,a]=di.e.useAtomService(),r=vi.b.useServiceDispatchers(),{videoId:l,isModalShowing:d,ready:c,geo:p,country:u,bannerAdsItem:m}=n,g=(0,s.JD)((({showingBrowserMode:e})=>e),K.bN),h=(0,bi.Z9)((e=>e.isOpen),K.bN),v=(0,y.s)();let b=(0,ci.k)(l);m&&(b=m);const _=(null===(e=null==b?void 0:b.ad_info)||void 0===e?void 0:e.about_this_ad_info)||{},{about_this_ad_title:f,geo_id:x,country_code:k,about_this_ad_items:w,advertiser_items:C}=_,j=(null!=w?w:[]).concat(null!=C?C:[]),S=j.reduce(((e,t)=>{var n;const o=null===(n=t.orientation_info)||void 0===n?void 0:n.reduce(((e,t)=>{var n;const o=_i[null!==(n=t.info_type)&&void 0!==n?n:0];switch(o){case 1:break;case"location":e.location=p;break;case"business_location":e.business_location=u;break;case"business_name":e.business_location=t.orientation_track;break;case"toggle_initial_status":e.toggle_initial_status=t.switch;break;default:e[o]=t.orientation_item}return e}),{});return Object.assign(Object.assign({},e),o)}),{});if((0,si.o)((()=>{return e=void 0,t=void 0,o=function*(){var e;const t=null===(e=null==b?void 0:b.ad_info)||void 0===e?void 0:e.advertiser_id;t&&(yield a.getAdsATAInfo({adv_id:t,geo_name_id:x,country_code:k})),a.setStateReady(!0)},new((n=void 0)||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}));var e,t,n,o}),[null===(t=null==b?void 0:b.ad_info)||void 0===t?void 0:t.advertiser_id]),(0,i.useEffect)((()=>{if(d&&(null==b?void 0:b.ad_info)&&c){const e=(0,mi.n5)({ad_info:b.ad_info,play_mode:h?"immersive_player":g?"browser_mode":"one_column"});gi.m.handleOthershow(Object.assign(Object.assign({},e),{refer:hi.Hq.ATA,ad_extra_data:Object.assign(Object.assign({},e.ad_extra_data),S)}))}}),[d,null==b?void 0:b.ad_info,g,S,c,h]),!(null==b?void 0:b.ad_info))return null;const O=(0,mi.n5)({ad_info:b.ad_info,play_mode:h?"immersive_player":g?"browser_mode":"one_column"}),I=e=>{gi.m.handleOtherclick(Object.assign(Object.assign({},O),{tag:hi.xY.ATA,ad_extra_data:Object.assign(Object.assign({},O.ad_extra_data),{click_source:e})}))},M=(e=hi._8.Others)=>{a.setModalShowing(!1),gi.m.handleExit(Object.assign(Object.assign({},O),{tag:hi.xY.ATA,ad_extra_data:Object.assign(Object.assign({},O.ad_extra_data),{close_method:e})}))},P=!w&&!C||c&&(x&&(!p||0===p.length)||k&&(!u||0===u.length)),D=v("about_this_ad_fallback_description1").replace("%s",`<a href=https://www.tiktok.com/safety/en/ads-and-data/ class='bold' target='_blank'>${v("about_this_ad_fallback_more_info_hyperlink_2")}</a>`),A=()=>{M(hi._8.PA),I(hi.aS.PA),r.setEnterFrom("ads_long_press")};return(0,o.FD)(T.i,{e2eData:"about-this-ad-modal",compact:!0,isOpen:d,onClose:()=>M(hi._8.Others),closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,o.FD)(Ho,{children:[(0,o.Y)(Ko,{"data-e2e":"about-this-ad-title",children:f}),(0,o.Y)(qo,{"data-e2e":"about-this-ad-close",onClick:()=>M(hi._8.CloseButton),children:(0,o.Y)(Fe.A,{width:14,height:14})})]}),!c&&(0,o.Y)(ri,{children:(0,o.Y)(X.R,{})}),(0,o.FD)(Vo,{ready:c,children:[c&&!P&&j.map(((e,t)=>{var n;return(0,o.FD)(Go,{children:[(0,o.Y)(Zo,{children:e.group_title}),(0,o.Y)(Xo,{children:null===(n=e.orientation_info)||void 0===n?void 0:n.filter((e=>{var t;return!fi.includes(_i[null!==(t=e.info_type)&&void 0!==t?t:0])})).map(((e,t)=>(0,o.Y)(Qo,{children:(0,o.Y)(pi,{orientationInfo:e,handleLinkClick:()=>I(hi.aS.HowTTAdsWork)})},t)))})]},t)})),P&&(0,o.Y)(ei,{dangerouslySetInnerHTML:{__html:D}})]}),(0,o.FD)(ti,{children:[(0,o.FD)(oi,{children:[(0,o.Y)(ni,{}),(0,o.Y)(ii,{to:"/setting",onClick:A,children:v("about_this_ad_fallback_adjust_settings")})]}),(0,o.Y)(Eo.N_,{to:"/setting",onClick:A,children:(0,o.Y)(ai,{})})]})]})};var yi=n(57432),ki=n.n(yi),wi=n(89704);const Ci=(0,h.default)("div",{target:"er3o12m0"})({padding:"18px",textAlign:"center"},"label:DivContainer;"),ji=(0,h.default)("p",{target:"er3o12m1"})((({theme:e})=>[e.typography.H4,{fontWeight:e.fontWeights.bold,color:e.colors.TextPrimary,marginBottom:"18px"}]),"label:PTitle;"),Si=(0,h.default)("p",{target:"er3o12m2"})((({theme:e})=>[e.typography.P1,{color:e.colors.TextSecondary,marginBottom:"6px"}]),"label:PDesc;"),Ti=(0,h.default)(u.I0,{target:"er3o12m3"})((({theme:e})=>({height:"56px",borderBottom:"none",borderLeft:"none",borderRight:"none",borderRadius:"0 0 8px 8px",":focus-visible":{outline:`2px solid ${e.colors.Negative}`,outlineOffset:"1px"}})),"label:StyledButton;"),Oi=(e,t)=>{switch(t.type){case"open":return e.visible?e:{visible:!0,content:t.payload};case"close":return{visible:!1,content:""};default:return console.log("Unknown action",t),e}},Ii=()=>{const[{visible:e,content:t},n]=(0,i.useReducer)(Oi,{visible:!1,content:""}),a=(0,y.s)("kick_user_frontier"),r=(0,y.s)(),l=(0,i.useCallback)((e=>{n({type:"open",payload:a(e.parsedData.protocol_type.toString(),{},r("logged_out_content"))})}),[a,r]),s=(0,i.useCallback)((()=>{var e;const t=(0,xo.kv)(window.location.pathname);window.location.href=`/login?enter_from=${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"webapp_desktop"}&enter_method=kick_offline_confirm&redirect_url=${encodeURIComponent(location.href)}`}),[]);return(0,i.useEffect)((()=>(wi.K.register(l),()=>{wi.K.deregister(l)})),[l]),(0,o.Y)(ko.nOL,{open:e,onOpenChange:ki(),outsidePressDismiss:!1,width:"small",children:(0,o.FD)("div",{children:[(0,o.FD)(Ci,{children:[(0,o.Y)(ji,{children:r("logged_out_title")}),(0,o.Y)(Si,{children:t})]}),(0,o.Y)(Ti,{block:!0,variant:"secondary",onClick:s,label:r("OK")})]})})};var Mi,Pi=n(20362),Di=n(91257),Ai=n(45347),Ri=n(66458),Ei=n(92502),Li=n(67416),Fi=n(93341),zi=n(48615);!function(e){e[e.Main=0]="Main",e[e.DoNotTranslation=1]="DoNotTranslation",e[e.TranslateInto=2]="TranslateInto"}(Mi||(Mi={}));const Bi=i.createContext({setCaptionContent:()=>{},etParams:{group_id:"",author_id:"",play_mode:"others"}}),Ni=(0,h.default)(ko.Qkv,{target:"ef4w0gk0"})({maxHeight:"345px",overflow:"auto",margin:"0px","& .TUXCheckbox":{display:"flex",flexDirection:"row-reverse"}},"label:StyledTUXCheckboxGroup;"),$i=(0,h.default)(ko.qMW,{target:"ef4w0gk1"})({maxHeight:"345px",overflow:"auto",margin:"0px","& .TUXRadio":{display:"flex",flexDirection:"row-reverse"}},"label:StyledTUXRadioGroup;"),Yi=(0,i.memo)((()=>{var e,t;const n=(0,y.s)(),{setCaptionContent:a,etParams:r}=(0,i.useContext)(Bi),[{translationDisableLanguages:l},s]=(0,Ei.$F)(),{bizContext:d}=(0,zi.y)(),c=null===(e=null==d?void 0:d.claConfig)||void 0===e?void 0:e.dntLanguageList,[p,u]=(0,i.useState)(l),m=(0,i.useRef)(!1),g=(0,i.useMemo)((()=>null==c?void 0:c.sort(((e,t)=>{const n=l.includes(e.code),o=l.includes(t.code);return n&&!o?-1:!n&&o?1:0}))),[l,c]),h=0===l.length?"no_selection":"has_selection",v=(0,i.useCallback)((()=>{s.setTranslationDisableLanguages(p),ue.f.sendEvent("exit_do_not_translate_menu",Object.assign({enter_method:"done",do_not_translate_mode:0===p.length?"no_selection":"has_selection"},r)),m.current=!0,a(Mi.Main)}),[s,a,p,r]);return(0,i.useEffect)((()=>(ue.f.sendEvent("show_do_not_translate_menu",Object.assign({do_not_translate_mode:h},r)),()=>{m.current||ue.f.sendEvent("exit_do_not_translate_menu",Object.assign({enter_method:"exit",do_not_translate_mode:h},r))})),[]),(0,o.FD)(o.FK,{children:[(0,o.Y)(ko.DBO,{title:n("Web_buildVideoTranslations_doNotTranslate"),leading:(0,o.Y)(ko.PH3,{onClick:()=>{a(Mi.Main)},icon:(0,o.Y)(ko.WZi,{autoMirror:!0})})}),(0,o.Y)(Ni,{label:"",values:p,onChange:u,options:null!==(t=null==g?void 0:g.map((e=>({label:e.local_name,value:e.code}))))&&void 0!==t?t:[],style:{borderBottom:"0.5px solid rgba(0, 0, 0, 0.2)"}}),(0,o.Y)(ko.I05,{label:n("Web_buildVideoTranslations_done"),type:"submit",onClick:v,style:{width:"calc(100% - 16px)",margin:"8px"}})]})}));var Wi=n(26290);const Ui=(0,h.default)("div",{target:"er5v830"})({marginBottom:"10px",marginInlineStart:"24px",marginInlineEnd:"14px"},"label:DivCaptionModalContentContainer;"),Vi=(0,h.default)("div",{target:"er5v831"})({paddingBottom:"14px"},"label:DivCaptionContent;"),Hi=(0,h.default)("div",{target:"er5v832"})({fontSize:"16px",fontWeight:500,display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivCaptionContentItem;"),qi=(0,h.default)("span",{target:"er5v833"})({display:"flex",alignItems:"center",cursor:"pointer"},"label:SpanSelectLanguageContainer;"),Ki=(0,h.default)(Wi.F,{target:"er5v834"})({maxWidth:"150px"},"label:TextSelectLanguage;");var Gi;!function(e){e[e.CLANoCaptionReason_ClaNoCaptionReasonNoOp=0]="CLANoCaptionReason_ClaNoCaptionReasonNoOp",e[e.CLANoCaptionReason_ClaNoCaptionReasonOther=1]="CLANoCaptionReason_ClaNoCaptionReasonOther",e[e.CLANoCaptionReason_ClaNoCaptionReasonNotAuthorized=2]="CLANoCaptionReason_ClaNoCaptionReasonNotAuthorized",e[e.CLANoCaptionReason_ClaNoCaptionReasonSpeechUnrecognized=3]="CLANoCaptionReason_ClaNoCaptionReasonSpeechUnrecognized",e[e.CLANoCaptionReason_ClaNoCaptionReasonLangNotSupported=4]="CLANoCaptionReason_ClaNoCaptionReasonLangNotSupported"}(Gi||(Gi={}));const Zi=(0,i.memo)((()=>{var e,t,n,a,r,s,d;const c=(0,y.s)(),p=(0,l.MQ)(),[{isMasterTranslationOn:u,selectedTranslationLanguage:m,translationDisableLanguages:g},h]=(0,Ei.$F)(),v=null!==(e=(0,Fi.GF)())&&void 0!==e?e:"",b=(0,ci.k)(v),{setCaptionContent:_,etParams:f}=(0,i.useContext)(Bi),{bizContext:x}=(0,zi.y)(),k=null===(t=null==x?void 0:x.claConfig)||void 0===t?void 0:t.translationLanguageList,w=null===(n=null==x?void 0:x.claConfig)||void 0===n?void 0:n.dntLanguageList,C=(0,Li.l)(v),{video:j}=(0,wo.L$)(b),{claInfo:S}=(0,wo.L$)(j),{captionInfos:T,noCaptionReason:O}=(0,wo.L$)(S),I=!T||0===T.length,M=null===(r=null===(a=null==S?void 0:S.captionInfos)||void 0===a?void 0:a[0])||void 0===r?void 0:r.isAutoGen,{captionOptions:P}=(0,Pi.g)(b),D=null===(d=null===(s=null==k?void 0:k.filter((e=>e.code===m)))||void 0===s?void 0:s[0])||void 0===d?void 0:d.local_name;let A=c("claSeeTranslation_fyp_captionsPanel_toggle1");I&&(A=c("claSeeTranslation_fyp_captionsPanelUnavailable_toggle1")),M&&(A=c("claSeeTranslation_fyp_captionsPanel_autogeneratedLabelV2"));let R="";switch(O){case Gi.CLANoCaptionReason_ClaNoCaptionReasonNotAuthorized:R=c("claCombineCaptions_Panel_captionsToggleTurnOff_desc");break;case Gi.CLANoCaptionReason_ClaNoCaptionReasonSpeechUnrecognized:R=c("claCombineCaptions_Panel_captionsToggleSpeechNotRecog_title");break;case Gi.CLANoCaptionReason_ClaNoCaptionReasonLangNotSupported:R=c("claCombineCaptions_Panel_captionsToggleUnsupportedLang_title");break;default:R=c("claCombineCaptions_Panel_captionsUnsupported_toast")}const E=g.length>0,L=(0,i.useMemo)((()=>E?g.map((e=>null==w?void 0:w.filter((t=>t.code===e))[0].local_name)).join(","):c("Web_buildVideoTranslations_selectLang")),[E,g,w,c]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(ko.DBO,{title:c("claSeeTranslation_fyp_longPressPanel_captionsLabelV2")}),(0,o.FD)(Ui,{children:[(0,o.FD)(Vi,{children:[(0,o.FD)(Hi,{children:[A,(0,o.Y)(ko.OVK,{label:"",checked:C,onChange:e=>{h.setIsCaptionOn(e,v),Ai.lN.handleCaptionSwitch(Object.assign({caption_mode:e?"on":"off",caption_options:P},f))}})]}),I&&(0,o.Y)(ko.Fm,{color:"UITextPlaceholder",size:12,weight:"normal",children:R})]}),p&&(0,o.FD)(o.FK,{children:[(0,o.FD)(Vi,{children:[(0,o.FD)(Hi,{children:[c("Web_buildVideoTranslations_alwaysTranslate"),(0,o.Y)(ko.OVK,{label:"",checked:u,onChange:e=>{h.setIsMasterTranslationOn(e),ue.f.sendEvent("switch_always_translate",Object.assign({always_translate_mode:e?"on":"off"},f))}})]}),(0,o.Y)(ko.Fm,{color:"UITextPlaceholder",size:12,weight:"normal",children:c("Web_buildVideoTranslations_togglePara")})]}),(0,o.Y)(Vi,{children:(0,o.FD)(Hi,{children:[c("Web_buildVideoTranslations_doNotTranslate"),(0,o.FD)(qi,{onClick:()=>_(Mi.DoNotTranslation),children:[(0,o.Y)(Ki,{truncate:!0,color:E?"UITextPlaceholder":"UITextInfo",children:L}),(0,o.Y)(ko.pnX,{autoMirror:!0})]})]})}),(0,o.Y)(Vi,{children:(0,o.FD)(Hi,{children:[c("Web_buildVideoTranslations_translateInto"),(0,o.FD)(qi,{onClick:()=>_(Mi.TranslateInto),children:[(0,o.Y)(Ki,{color:"UITextPlaceholder",children:D}),(0,o.Y)(ko.pnX,{autoMirror:!0})]})]})})]})]})]})}));var Xi=n(57431);const Qi=(0,i.memo)((()=>{var e,t;const n=(0,y.s)(),{setCaptionContent:a,etParams:r}=(0,i.useContext)(Bi),[{selectedTranslationLanguage:l},s]=(0,Ei.$F)(),{bizContext:d}=(0,zi.y)(),{language:c}=(0,Xi.x)(),p=null===(e=null==d?void 0:d.claConfig)||void 0===e?void 0:e.translationLanguageList,[u,m]=(0,i.useState)(l),g=(0,i.useRef)(!1),h=c===l?"default_language":"user_selected_language",v=(0,i.useCallback)((()=>{s.setSelectedTranslationLanguage(u),ue.f.sendEvent("exit_translate_into_menu",Object.assign({enter_method:"done",translate_into_mode:u===c?"default_language":"user_selected_language"},r)),g.current=!0,a(Mi.Main)}),[s,a,u,c,r]);return(0,i.useEffect)((()=>(ue.f.sendEvent("show_translate_into_menu",Object.assign({translate_into_mode:h},r)),()=>{g.current||ue.f.sendEvent("exit_translate_into_menu",Object.assign({enter_method:"exit",translate_into_mode:h},r))})),[]),(0,o.FD)(o.FK,{children:[(0,o.Y)(ko.DBO,{title:n("Web_buildVideoTranslations_translateInto"),leading:(0,o.Y)(ko.PH3,{onClick:()=>{a(Mi.Main)},icon:(0,o.Y)(ko.WZi,{autoMirror:!0})})}),(0,o.Y)($i,{label:"",value:u,onChange:m,options:null!==(t=null==p?void 0:p.map((e=>({label:e.local_name,value:e.code}))))&&void 0!==t?t:[],style:{borderBottom:"0.5px solid rgba(0, 0, 0, 0.2)"}}),(0,o.Y)(ko.I05,{label:n("Web_buildVideoTranslations_done"),type:"submit",onClick:v,style:{width:"calc(100% - 16px)",margin:"8px"}})]})})),Ji=(0,i.memo)((()=>{var e,t;const{language:n}=(0,Xi.x)(),[{isCaptionModalOn:a,captionModalEnterMethod:r,captionModalRoot:s},d]=(0,Ri.JE)((e=>({isCaptionModalOn:e.isCaptionModalOn,captionModalEnterMethod:e.captionModalEnterMethod,captionModalRoot:e.captionModalRoot})),K.bN),[{isMasterTranslationOn:c,translationDisableLanguages:p,selectedTranslationLanguage:u},m]=(0,Ei.$F)(),g=null!==(e=(0,Fi.GF)())&&void 0!==e?e:"",h=null!==(t=(0,Fi.RT)())&&void 0!==t?t:-1,v=(0,ci.k)(g),b=(0,Li.l)(g),[_,f]=(0,i.useState)(Mi.Main),{authorId:x=""}=(0,wo.L$)(v),y=Di.Jr[h],{captionOptions:k}=(0,Pi.g)(v),w=(0,i.useMemo)((()=>({group_id:g,author_id:x,play_mode:y})),[g,x,y]),C=(0,i.useMemo)((()=>Object.assign({caption_options:k,always_translate_post_mode:c?"on":"off",do_not_translate_mode:0===p.length?"no_selection":"has_selection",translate_into_mode:u===n?"default_language":"user_selected_language"},w)),[k,c,p,u,n,w]),j=(0,i.useCallback)((e=>{d.setIsCaptionModalOn(e),e||(Ai.lN.handleCaptionPopupClose(Object.assign({caption_mode:b?"on":"off"},C)),d.setCaptionModalEnterMethod("click_cc_indicator"),_!==Mi.Main&&setTimeout((()=>{f(Mi.Main)}),500))}),[d,C,b,_]);return(0,i.useEffect)((()=>{m.setLanguageSetting()}),[]),(0,i.useEffect)((()=>{a&&Ai.lN.handleCaptionPopupShow(Object.assign({caption_mode:b?"on":"off",enter_method:r},C))}),[a]),(0,l.Vi)(),(0,o.Y)(Bi.Provider,{value:{setCaptionContent:f,etParams:w},children:(0,o.FD)(ko.nOL,{e2eData:"caption-modal",open:a,onOpenChange:j,style:{minWidth:"300px"},root:s,children:[_===Mi.Main&&(0,o.Y)(Zi,{}),_===Mi.TranslateInto&&(0,o.Y)(Qi,{}),_===Mi.DoNotTranslation&&(0,o.Y)(Yi,{})]})})}));var ea=n(24688),ta=n(59755),na=n(72781);const oa=(0,i.createContext)(null);function ia(){return(0,i.useContext)(oa)||{onOpenChange:()=>{},e2eTag:"action"}}var aa=n(72898);const ra=aa.I.div({position:"relative",height:"fit-content",width:"100%","&:hover > .arrows-container":{display:"flex"}}),la=aa.I.div({display:"none",pointerEvents:"none",position:"absolute",insetInline:".75rem",alignItems:"center",width:"calc(100% - 1.5rem)"}),sa=aa.I.div((({theme:e})=>({position:"absolute",cursor:"pointer",width:"2.5rem",height:"2.5rem",borderRadius:"50%",padding:".375rem",pointerEvents:"auto",boxShadow:`0px 2px 12px 0px ${ko.Tj4.UIShapeNeutral3}`,backgroundColor:e.isDark?"rgba(56, 56, 56, 0.95)":"rgba(255, 255, 255, 0.9)"})),(({isStartArrow:e})=>e?{insetInlineStart:0}:{insetInlineEnd:0})),da=aa.I.div({position:"relative",height:"6.25rem",width:"100%",overflow:"auto",marginBottom:".25rem","-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ca=(0,i.memo)((function({actionOptions:e,isFetchingMore:t=!1,hasMore:n=!1,height:o="6.25rem",itemSize:a=100,onShowMore:r,fetchMore:l,renderItem:s}){var d,c;const{onOpenChange:u,e2eTag:m}=ia(),g=(0,i.useRef)(null),[h,v]=(0,i.useState)(!1),[b,_]=(0,i.useState)(!1),{handleAction:f,handleKeyDown:x}=(0,na.s)(u),{direction:y}=(0,Pt.u)(),k=(0,ta.Te)({horizontal:!0,count:n||t?e.length+1:e.length,getScrollElement:()=>g.current,estimateSize:()=>a,overscan:5,isRtl:"rtl"===y,paddingStart:12,paddingEnd:12}),w="rtl"===y?-1:1,C=.8*(null!==(c=null===(d=g.current)||void 0===d?void 0:d.clientWidth)&&void 0!==c?c:5.5*a),j=(0,i.useCallback)((()=>{var e;const t=-w*C;null===(e=g.current)||void 0===e||e.scrollBy({left:t,behavior:"smooth"})}),[w,C]),S=(0,i.useCallback)((()=>{var e;const t=w*C;null===(e=g.current)||void 0===e||e.scrollBy({left:t,behavior:"smooth"})}),[w,C]),T=(0,i.useCallback)((()=>{const e=g.current;if(!e)return;const t=Math.abs(e.scrollLeft),n=e.scrollWidth-e.clientWidth;v(t>a/2),_(n-t>a/2)}),[a]),O=(0,i.useCallback)((()=>{const e=g.current;e&&r&&Math.abs(e.scrollLeft)>a/2&&r()}),[a,r]),I=(0,i.useCallback)((()=>{T(),O()}),[T,O]),M=(0,i.useCallback)(((e,t)=>s(Object.assign(Object.assign({},e),{onClick:t=>f(e,t),onKeyDown:t=>x(e,t),e2eTag:`${m}-${e.key}`,index:t}))),[m,f,x,s]),P=k.getVirtualItems();return(0,i.useEffect)((()=>{if(!l)return;const[o]=[...P].reverse();o&&o.index>=e.length-1&&n&&!t&&l()}),[e.length,l,n,t,P]),(0,i.useEffect)((()=>{e.length>0&&T()}),[T,e.length]),(0,i.useEffect)((()=>{const e=g.current;if(e){const t=(0,ea.n)(I,50);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}}),[I]),(0,p.jsxs)(ra,{children:[(0,p.jsx)(da,{ref:g,style:{height:o},children:(0,p.jsx)("div",{style:{width:`${k.getTotalSize()}px`,height:"100%",position:"relative"},children:k.getVirtualItems().map((o=>{const i=o.index>e.length-1;return(0,p.jsx)("div",{style:{position:"absolute",top:0,insetInlineStart:0,height:"100%",width:`${o.size}px`,transform:`translateX(${o.start*w}px)`},children:i&&(n||t)?(0,p.jsx)(ko.rxD,{alignItems:"center",justifyContent:"center",style:{width:`${o.size}px`,height:"100%"},children:(0,p.jsx)(ko.sgs,{size:"medium"})}):M(e[o.index],o.index)},o.index)}))})}),(0,p.jsxs)(la,{className:"arrows-container",style:{top:a/16/2+"rem"},children:[h&&(0,p.jsx)(sa,{onClick:j,isStartArrow:!0,children:(0,p.jsx)(ko.ldC,{autoMirror:!0,size:"1.75rem"})}),b&&(0,p.jsx)(sa,{onClick:S,children:(0,p.jsx)(ko.k1d,{autoMirror:!0,size:"1.75rem"})})]})]})})),pa=(0,h.default)("div",{target:"eep2x9w0"})({paddingInline:".25rem",width:"100%",overflowX:"hidden",overflowY:"auto","&:last-of-type":{marginBottom:".25rem"}},"label:DivActionsContainer;"),ua=(0,h.default)(pa,{target:"eep2x9w1"})({display:"grid",alignItems:"start",justifyContent:"space-between"},"label:DivMultiRowActionsContainer;"),ma=(0,h.default)("div",{target:"eep2x9w2"})({display:"flex",flexDirection:"column"},"label:DivActionGroupContainer;"),ga=(0,i.memo)((function({actionOptions:e,renderItem:t}){const{onOpenChange:n,e2eTag:o}=ia(),{handleAction:i,handleKeyDown:a}=(0,na.s)(n);return(0,p.jsx)(pa,{children:e.map(((e,n)=>t(Object.assign(Object.assign({},e),{onClick:t=>i(e,t),onKeyDown:t=>a(e,t),e2eTag:`${o}-${e.key}`,index:n}))))})}));var ha=n(27535);const va=(0,i.memo)((function({actionOptions:e,onShowMore:t,renderItem:n,maxRows:o=2,itemsPerRow:a=5}){const{onOpenChange:r,e2eTag:l}=ia(),s=o*a,{containerRef:d,containerHeight:c}=function({maxRows:e,itemsPerRow:t,totalItems:n}){const[o,a]=(0,i.useState)("0"),[r,l]=(0,i.useState)(null);return(0,i.useLayoutEffect)((()=>{var o;let i=0;const l=null!==(o=null==r?void 0:r.children)&&void 0!==o?o:[];for(let o=0;o<e;++o){const e=Math.min((o+1)*t,n);let a=0;for(let n=o*t;n<e;++n){const e=l[n];if(!e)continue;const t=Math.max(parseFloat(window.getComputedStyle(e).height)||0,e.firstElementChild?Math.max(parseFloat(window.getComputedStyle(e.firstElementChild).height)||0,parseFloat(window.getComputedStyle(e.firstElementChild,"::before").height)||0):0);a=Math.max(a,t)}i+=a}a(`${i}px`)}),[e,t,null==r?void 0:r.children,n]),{containerRef:l,containerHeight:o}}({maxRows:o,itemsPerRow:a,totalItems:e.length}),[u]=(0,ha.Wx)({threshold:.5,triggerOnce:!0,onChange:e=>e&&(null==t?void 0:t())}),{handleAction:m,handleKeyDown:g}=(0,na.s)(r);return(0,p.jsx)(ua,{style:{maxHeight:c,gridTemplateColumns:`repeat(${a}, minmax(100px, 1fr))`},ref:d,children:e.map(((e,t)=>{const o=t>=s;return n(Object.assign(Object.assign({},e),{onClick:t=>m(e,t),onKeyDown:t=>g(e,t),e2eTag:`${l}-${e.key}`,ref:e=>{o&&u(e)},index:t}))}))})}));const ba=(0,i.memo)((function(e){var{title:t,style:n,open:o,onOpenChange:a,e2eTag:r="action",onTriggerClick:l,children:s,groupGap:d=".75rem",navButton:c}=e,u=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["title","style","open","onOpenChange","e2eTag","onTriggerClick","children","groupGap","navButton"]);const[m,g]=(0,na.o)({controlledOpen:o,onControlledOpenChange:a}),{zIndex:h}=(0,Pt.u)(),v=(0,i.useMemo)((()=>Object.assign({maxWidth:"unset",width:"512px",zIndex:h.modal},n)),[h,n]);return(0,p.jsx)(oa.Provider,{value:{onOpenChange:g,e2eTag:r},children:(0,p.jsxs)(ko.nOL,Object.assign(Object.assign({open:m,onOpenChange:g,style:v},u),{children:[(0,p.jsx)(ko.DBO,{title:t,leading:c}),(0,p.jsx)(ma,{"data-e2e":`${r}-group`,style:{gap:d},children:s})]}))})}));var _a,fa=n(86776),xa=n(60026),ya=n(86325),ka=n(13759);!function(e){e.Video="video",e.User="profile",e.Music="music",e.Effect="effect",e.Challenge="tag",e.Foryou="homepage_hot",e.Following="homepage_follow",e.VideoPlaylist="playlist",e.Expansion="kep",e.Collection="collection",e.Poi="poi",e.Channel="channel"}(_a||(_a={}));const wa={video_detail:"video",single_song:"music",challenge:"tag",others_homepage:"profile",personal_homepage:"profile",discover_kw:"kep",collection:"collection",place:"poi",channel:"channel",reflow_video_playlist:"playlist",homepage_hot:"homepage_hot",homepage_follow:"homepage_follow"};var Ca=n(28369),ja=n(87992);const Sa=(0,h.default)(ko.I05)`
  width: 32px !important;
  height: 32px !important;
  min-width: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  background-color: transparent !important;

  &:hover {
    background-color: ${e=>e.theme.colors.UIShapeNeutral4} !important;
  }

  & > :first-of-type {
    & > .TUXButton-label {
      display: none !important;
    }
  }
`,Ta=(0,h.default)(ko.ZPA)`
  .TUXFormField-header {
    display: none !important;
  }

  .TUXInputBox {
    padding-inline-end: 0 !important;
  }
`,Oa=(0,i.memo)((function({url:e,onClick:t}){return(0,o.Y)("div",{style:{width:"calc(100% - 2rem)",marginInline:"1rem"},"data-e2e":"share-copy",children:(0,o.Y)(Ta,{style:{width:"100%"},value:e,onChange:()=>{},label:"",trailingIcon:(0,o.Y)(Sa,{variant:"secondary",label:"",leadingIcon:(0,o.Y)(ja.j,{}),onClick:t})})})}));var Ia=n(8507),Ma=n(2230),Pa=n(35759),Da=n(4657),Aa=n(77462),Ra=n(23244),Ea=n(14105),La=n(24095),Fa=n(61527),za=n(11317),Ba=n(92617),Na=n(65033),$a=n(77433),Ya=n(78808),Wa=n(18183),Ua=n(10332),Va=n(44494),Ha=n(8046),qa=n(95943),Ka=n(57661),Ga=n(3416),Za=n(60652),Xa=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const Qa=(0,h.default)(Za.A)`
  path:first-of-type {
    fill: ${e=>e.monochrome?"black":"#00BAD0"};
  }
`,Ja=(0,i.memo)((function(e){var{icon:t,bgColor:n,textColor:i}=e,a=Xa(e,["icon","bgColor","textColor"]);const r=t;return(0,o.FD)("svg",Object.assign(Object.assign({color:"inherit",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em"},a),{children:[(0,o.Y)("path",{d:"M24 48a24 24 0 1 1 0-48 24 24 0 0 1 0 48Z",fill:n}),(0,o.Y)("foreignObject",{x:"50%",y:"50%",width:28,height:28,transform:"translate(-14 -14)",children:(0,o.Y)(r,{fontSize:28,color:i})})]}))})),er=((0,i.memo)((function(e){return(0,o.Y)(Ja,Object.assign({icon:qa.A,bgColor:"black",textColor:"white"},e))})),h.default.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;

  & > svg {
    fill: black;
  }

  &::before {
    content: '';
    position: absolute;
    width: 85%;
    height: 85%;
    border-radius: 50%;
    background-color: white;
    z-index: -1;
  }
`),tr=(0,i.memo)((function(e){var{monochrome:t}=e,n=Xa(e,["monochrome"]);return t?(0,o.Y)(er,{children:(0,o.Y)(Ga.A,{})}):(0,o.Y)(Ka.W,Object.assign({},n))}));const nr=["repost","message","copy","whatsapp","embed","facebook","telegram","twitter","linkedin","email","reddit"];function or(e){var t,n,a;const r=function({itemId:e="",mode:t,embedCode:n,embedType:o,isEmbedBanned:i=!1,from:a=0}){const{user:r}=(0,Xi.x)(),l=(0,me.ZO)(),{vl1:s,forFriend:d,subVideoMeta:c,canRepost:p}=(0,Te.F3)((t=>{var n,o;const i=t[e];return{vl1:null==i?void 0:i.vl1,forFriend:null==i?void 0:i.forFriend,subVideoMeta:null==i?void 0:i.subVideoMeta,canRepost:void 0!==i&&(null===(o=null===(n=i.item_control)||void 0===n?void 0:n.can_repost)||void 0===o||o)}}),K.bN),{repostActionVid:u}=(0,me.hn)(),{isInAppStyleShareExperiment:m}=(0,Ca.Pk)(),g=p&&"v4"===u,h=(!r||r.hasIMPermission)&&!(s&&!d)&&!(1===a||2===a);return(0,Ct.P)(Wa.M,{selector:e=>{var o;let a,r=null!==(o=e.platforms)&&void 0!==o?o:[];if(h||(r=r.filter((e=>"message"!==e))),l&&(r=r.filter((e=>"facebook"!==e))),g||(r=r.filter((e=>"repost"!==e))),(!n||i||c)&&(r=r.filter((e=>"embed"!==e))),m){const e=r.reduce(((e,t,n)=>(e[t]=n,e)),{});a=[...r].sort(((t,n)=>{const o=nr.indexOf(t),i=nr.indexOf(n),a=-1!==o?o:r.length,l=-1!==i?i:r.length;return a!==l?a-l:e[t]-e[n]}))}else{const e=new Set(["copy","repost","message","embed"]),t=t=>!e.has(t);a=r.filter(t),!n||i||c||a.unshift("embed"),h&&a.unshift("message"),g&&a.unshift("repost"),a.unshift("copy")}const s=a.filter((e=>"copy"!==e));return 0===t?s:a},dependencies:[t,n,o,h,l,g]})}(e),l=function({itemId:e="",onClickShare:t,enabled:n=!0,shareUrl:o="",teaParams:a={},from:r=0}){var l,s;const d=(0,y.s)(),{user:c}=null!==(l=(0,ne.W)((()=>["user"]),[]))&&void 0!==l?l:{},p=Boolean(c),u=(0,gn.Nj)(yo.A),{expanded:m}=(0,fa.kw)(),g=(0,Te.mG)(),h=(0,q.b1)(),v=(0,Oo.Vv)(),{handleClickRepost:b}=(0,Ua.l)({itemId:e,playMode:null!==(s=a.play_mode)&&void 0!==s?s:"one_column"});return(0,i.useCallback)((i=>{return l=this,s=void 0,_=function*(){const l=(0,Va.io)({platform:i,url:null!=o?o:""});let s=null;"string"==typeof l?s=l:l(),n||(H.F.destroy(),H.F.open({content:d("web_sharing_disable_toast"),duration:3,widthType:"half",getContainer:ge.M,getContainerPosition:"fixed"}));const{group_id:c,author_id:_}=a,f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(a,["group_id","author_id"]);if(null==t||t(i,{group_id:c,play_mode:f.play_mode}),"message"!==i&&u.handleShare(Object.assign({platform:i,group_id:c,author_id:_,share_option_type:m,share_click_from:3===r?"long":"short",tab_name:"",playlist_id:"",popup_type:""},f)),f.is_ad_event&&f.value&&f.tag&&f.log_extra){const{log_extra:e,tag:t,value:n}=f;Ha.pg.handleShare({log_extra:e,tag:t,value:n,is_ad_event:"1"})}if(yield g.addMlModelTrainData({id:c,action:"share"}),s)window.open(s,"_blank","noreferrer");else if("copy"===i)H.F.open({content:d("Copied"),duration:1.2,widthType:"half",getContainer:ge.M,getContainerPosition:"fixed"});else if("embed"===i)v.openEmbed(e);else if("message"===i){if(ue.f.sendEvent("click_send_to_friends",Object.assign(Object.assign({},a),{enter_method:"share_menu"})),!p)return void h.openModal({query:{enter_method:"share_button",group_id:c}});v.openMessagePanel(e)}else if("repost"===i){if(!p)return void h.openModal({query:{enter_method:"click_repost",group_id:c}});b()}},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(_.next(e))}catch(e){t(e)}}function o(e){try{i(_.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}i((_=_.apply(l,s||[])).next())}));var l,s,c,_}),[o,n,a,t,u,m,r,g,d,v,e,p,h,b])}(e),s=function(){var e;const t=(0,y.s)(),{user:n}=null!==(e=(0,ne.W)((()=>["user"]),[]))&&void 0!==e?e:{},a=Boolean(n);return(0,i.useMemo)((()=>({facebook:{title:"Facebook",icon:(0,o.Y)(tr,{})},pinterest:{title:"Pinterest",icon:(0,o.Y)(Ia.A,{})},twitter:{title:"X",icon:(0,o.Y)(Ma.b,{})},whatsapp:{title:"WhatsApp",icon:(0,o.Y)(Pa.A,{})},reddit:{title:"Reddit",icon:(0,o.Y)(Da.A,{})},vk:{title:"VK",icon:(0,o.Y)(Aa.A,{})},sms:{title:"Sms",icon:(0,o.Y)(Ra.A,{})},telegram:{title:"Telegram",icon:(0,o.Y)(Ea.A,{})},line:{title:"Line",icon:(0,o.Y)(La.A,{})},linkedin:{title:"LinkedIn",icon:(0,o.Y)(Fa.A,{})},email:{title:"Email",icon:(0,o.Y)(za.A,{})},copy:{title:"Copy",icon:(0,o.Y)(Ba.A,{})},embed:{title:t("embed"),icon:(0,o.Y)(Qa,{}),preventCloseOnClick:!0,states:{disabled:{title:t("embed"),disabled:!0}}},message:{title:t("support_webapp_sharing_option_button"),icon:(0,o.Y)(Na.A,{}),preventCloseOnClick:a},repost:{title:t("pcWeb_repost_btn"),icon:(0,o.Y)($a.A,{style:{borderRadius:"50%"}}),states:{active:{title:t("pcWeb_removeRepost_btn"),icon:(0,o.Y)(Ya.A,{style:{borderRadius:"50%"}})}}}})),[a,t])}(),{isReposted:d}=(0,Ua.l)({itemId:null!==(t=e.itemId)&&void 0!==t?t:"",playMode:null!==(a=null===(n=e.teaParams)||void 0===n?void 0:n.play_mode)&&void 0!==a?a:"one_column"});return(0,i.useMemo)((()=>r.map((t=>{var n;let o="default";"embed"===t&&e.isEmbedDisabled?o="disabled":"repost"===t&&d&&(o="active");const i=s[t];return Object.assign(Object.assign(Object.assign({},i),null===(n=i.states)||void 0===n?void 0:n[o]),{key:t,action:()=>l(t)})}))),[l,s,r,d,e.isEmbedDisabled])}const ir=aa.I.div((({avatarSize:e})=>({position:"relative",height:e,width:e}))),ar=aa.I.div({width:"100%",height:"100%"},(({theme:e,hideIcon:t,iconSize:n})=>{if(t)return null;const o=`(${n} + 2px) / 2`,i="rtl"===e.direction?o:`100% - ${o}`;return Uo.AH`
      mask: radial-gradient(
        circle at calc(${i}) calc(100% - ${o}),
        transparent 0,
        transparent calc(${o}),
        white calc(${o} + 1px)
      );
      mask-repeat: no-repeat;
      mask-position: bottom ${"rtl"===e.direction?"left":"right"};
      mask-size: 100% 100%;
    `})),rr=aa.I.div((({iconSize:e})=>({position:"absolute",insetBlockEnd:0,insetInlineEnd:0,height:e,width:e}))),lr=(0,i.memo)((function({src:e,alt:t,icon:n,hideIcon:o=!1,avatarSize:i=64,iconSize:a="1.25rem",onClick:r,e2eTag:l,link:s,onLinkClick:d,linkAriaLabel:c,avatarStyle:u}){var m;const g="string"==typeof e||void 0===e?(0,p.jsx)(ko.pfZ,{src:e,alt:null!==(m=null!=t?t:e)&&void 0!==m?m:"",size:i}):e,h="number"==typeof a?`${a}px`:a,v=o?null:(0,p.jsx)(rr,{iconSize:h,children:n}),b=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ar,{"data-e2e":l,hideIcon:o,iconSize:h,style:u,children:g}),v]});return(0,p.jsx)(ir,{avatarSize:i,onClick:r,children:s?(0,p.jsx)(Eo.N_,{to:s,onClick:d,"aria-label":c,children:b}):b})}));var sr=n(84908);const dr=Uo.AH`
  opacity: 0.4;
  cursor: not-allowed;
`,cr=(0,h.default)("div",{target:"e20e1og0"})((({$hasHover:e,$isInAppStyleShareExperiment:t})=>({position:"relative",display:"flex",alignItems:"center",width:"100%",flexDirection:"column",gap:"6px","& > div":{display:"flex","&:last-of-type":{flex:1}},"& > div:first-of-type":{fontSize:t?"4rem":"3.5rem"},"&::before":{content:e?"''":"none",position:"absolute",top:0,right:0,bottom:0,left:0,marginBlock:"-.75rem -.5rem",marginInline:t?"-.75rem":"-.25rem",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:".5rem",zIndex:-1}})),(({$isDisabled:e})=>e&&dr),"label:DivAction;"),pr=(0,h.default)("div",{target:"e20e1og1"})((({theme:e})=>({position:"relative",display:"flex",alignItems:"start",paddingBlock:".75rem .5rem",paddingInline:"1rem",cursor:"pointer",height:"100%",width:"100%",gridColumn:"auto","&:hover > div:first-of-type::before":{backgroundColor:e.colors.UIShapeNeutral4},"& .TUXText":{width:"100%",overflowWrap:"break-word"}})),(({$isInAppStyleShareExperiment:e})=>e&&{paddingInline:".75rem","& .TUXText":{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}}),"label:DivActionContainer;");const ur=(0,i.memo)((0,i.forwardRef)((function(e,t){var{onClick:n,onKeyDown:a,e2eTag:r}=e,l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["onClick","onKeyDown","e2eTag"]);const{isInAppStyleShareExperiment:s}=(0,Ca.Pk)(),d=(0,i.useCallback)((()=>"string"==typeof l.title?s?(0,o.Y)(Wi.F.P3,{align:"center",children:l.title}):(0,o.Y)(Wi.F.P2,{weight:"medium",align:"center",children:l.title}):l.title),[s,l.title]);return(0,o.Y)(pr,{"data-e2e":r,onClick:n,onKeyDown:a,ref:t,$isInAppStyleShareExperiment:s,children:(0,o.FD)(cr,{$hasHover:!l.disabled,$isDisabled:l.disabled,$isInAppStyleShareExperiment:s,tabIndex:0,children:[(0,o.Y)("div",{style:{display:l.icon?"flex":"none"},children:l.icon}),d()]})})}))),mr=(0,aa.I)("div",{target:"e12efcbu0"})((({$isSelected:e})=>({"p.TUXText":{opacity:e?.5:1}})),"label:DivQuickShareUserItem;"),gr=(0,aa.I)((e=>(0,o.Y)(ko.GDA,Object.assign({size:"3rem"},e))),{target:"e12efcbu1"})((({theme:{direction:e}})=>({position:"absolute",top:"-1.8rem",insetInlineStart:"rtl"===e?"-1px":"-1.8rem"})),"label:IconChecked;");const hr=(0,i.memo)((function(e){var t,{uniqueId:n,isSelected:i}=e,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["uniqueId","isSelected"]);const r=(0,sr.nW)((e=>e.users[n]),K.bN),l=(0,o.Y)(lr,{src:null==r?void 0:r.avatarThumb,alt:null!==(t=null==r?void 0:r.nickname)&&void 0!==t?t:n,avatarSize:64,hideIcon:!i,icon:(0,o.Y)(gr,{}),e2eTag:"share-avatar",avatarStyle:i?{opacity:.5}:void 0});return(0,o.Y)(mr,{$isSelected:i,children:(0,o.Y)(ur,Object.assign(Object.assign({},a),{icon:l}))})}));var vr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const br=(0,i.memo)((function(){var e;const{isInAppStyleShareExperiment:t}=(0,Ca.Pk)(),[n,a]=(0,Oo.wO)((e=>e),K.bN),[r,{toggleUserSelection:l}]=(0,ka.Nj)((e=>e.selectedUsers),K.bN),{isOpen:s,activeMenu:d,isEmbedDisabled:c,itemId:p,shareUrl:u,teaParams:m,hasReportedShowMoreShareOptions:g,onShareOpen:h,onShareClose:v}=n,b=(0,i.useRef)(!1),_=(0,y.s)(),f=(0,fa.XF)(),x=or(n),{user:k}=null!==(e=(0,ne.W)((()=>["user"]),[]))&&void 0!==e?e:{},{hasMoreFollowing:w,isFollowingLoading:C,isRecentChatsLoading:j,loadMoreFollowing:S}=(0,xa.d)(),{recentUsers:T,followingUsers:O,initShareUsers:I}=(0,xa.I)(),M=Boolean(k),P=(0,i.useMemo)((()=>x.some((e=>"message"===e.key))),[x]),D=r.size>0,A=t&&p&&P&&M,R=(0,i.useCallback)((()=>{g||a.reportShowMoreShareOptions()}),[g,a]),E=(0,i.useCallback)((()=>{"share"===d&&a.closeMenu()}),[d,a]),L=(0,i.useCallback)((e=>{A&&(e.preventDefault(),e.stopPropagation(),ue.f.sendEvent("search_users_to_share",m),a.openMessagePanel(p,!0))}),[p,a,A,m]);(0,i.useEffect)((()=>{f(),I()}),[f,I]),(0,i.useEffect)((()=>{s!==b.current&&(b.current=s,s?(ue.f.sendEvent("share_panel_show",Object.assign(Object.assign({},m),{type:p?"video":wa[ue.f.commonParams.page_name]})),null==h||h()):(ue.f.sendEvent("share_panel_close",m),null==v||v()))}),[s,p,v,h,m]);const F=(0,i.useMemo)((()=>{if(t){if(!p||!P||!M)return null;const e=new Set(T.map((e=>e.uniqueId))),t=[...T,...O.filter((t=>!e.has(t.uniqueId)))].map((e=>({key:e.uniqueId,title:e.nickname,action:()=>l(e.uniqueId),preventCloseOnClick:!0})));return(0,o.FD)(o.FK,{children:[(0,o.Y)(ca,{actionOptions:t,fetchMore:S,isFetchingMore:C||j,hasMore:w,itemSize:88,renderItem:e=>{var{key:t}=e,n=vr(e,["key"]);return(0,o.Y)(hr,Object.assign({uniqueId:t,isSelected:r.has(t)},n),t)},height:"7.75rem"}),(0,o.Y)(ko.hIm,{color:"UIShapeNeutral3",direction:"horizontal"})]})}const e=x.filter((e=>"copy"===e.key));return(0,o.Y)(ga,{actionOptions:e,renderItem:({key:e,onClick:t})=>"copy"===e?(0,o.Y)(Oa,{url:null!=u?u:"",onClick:t},e):(0,o.Y)(o.FK,{})})}),[P,O,w,C,t,M,j,p,S,T,r,x,u,l]),z=(0,i.useCallback)((e=>{var{key:t}=e,n=vr(e,["key"]);const i=(0,o.Y)(ur,Object.assign({},n),t);return"embed"===t&&c?(0,o.Y)(ko.N0Y,{content:_("embed_profile_tooltip"),variant:"secondary",children:i},t):i}),[c,_]),B=(0,i.useMemo)((()=>{if(t){if(D&&p)return(0,o.Y)(ya.x,{videoId:p,selectedUsers:r,onShareSuccess:a.closeMenu});const e=x.filter((e=>!("message"===e.key&&M)));return(0,o.Y)(ca,{actionOptions:e,height:"7.75rem",itemSize:88,onShowMore:a.reportShowMoreShareOptions,renderItem:z})}const e=x.filter((e=>"copy"!==e.key));return(0,o.Y)(va,{maxRows:2,itemsPerRow:5,actionOptions:e,onShowMore:R,renderItem:z})}),[t,x,R,z,D,p,a.reportShowMoreShareOptions,a.closeMenu,r,M]);return(0,o.FD)(ba,{title:_("share_to"),open:s&&"share"===d,onOpenChange:e=>!e&&E(),e2eTag:"share",navButton:A?(0,o.Y)(ko.PH3,{icon:(0,o.Y)(ko.Kbf,{autoMirror:!0}),onClick:L}):void 0,style:{width:t?"30rem":"32rem"},children:[F,B]})}));var _r=n(60408),fr=n(22174),xr=n(69794),yr=n(45962),kr=n(7476),wr=n(58887);const Cr=()=>{const[{isScmModalOpen:e,url:t},n]=(0,wr.SC)((e=>({isScmModalOpen:e.isScmModalOpen,url:e.url})),K.bN),a=(0,i.useCallback)((()=>{kr.E.handleSCMLearnMore()}),[]);return(0,o.Y)(yr.V,{pathname:null!=t?t:"",visible:e,onClose:n.closeModal,isWebapp:!0,onJump:a})};var jr=n(42287);const Sr=(0,i.memo)((()=>{const[{activeMenu:e,itemId:t,isFromShare:n},i]=(0,Oo.wO)((e=>({isShareOpen:e.isOpen,activeMenu:e.activeMenu,itemId:e.itemId,isFromShare:e.isMessageFromShare})),K.bN);return"message"===e&&t?(0,o.Y)(jr.k,{visible:!0,videoId:t,onClose:()=>i.closeMenu(),isFromShare:n}):null}));var Tr=n(50299),Or=n(89221);const Ir=(0,i.memo)((()=>{const[{activeMenu:e,teaParams:t,embedCode:n,embedType:a,itemId:r,uniqueId:l,musicId:s,tagTitle:d,musicTitle:c,isEmbedBanned:p},u]=(0,Oo.wO)((e=>e),K.bN),m=(0,y.s)(),{zIndex:g}=(0,Pt.u)(),h=(0,Tr.Z)(),v=(0,i.useCallback)((()=>{t&&ue.f.sendEvent("click_share_button",Object.assign(Object.assign({},t),{platform:"embed"})),h({success:!0,message:m("embed_success")}),u.closeMenu()}),[u,h,m,t]);return"embed"!==e||p||!n?null:(0,o.Y)(ko.nOL,{open:!0,onOpenChange:e=>!e&&u.closeMenu(),style:{zIndex:g.modal,width:"fit-content",maxWidth:"unset"},children:(0,o.Y)(Or.f,{onCopy:v,onClose:u.closeMenu,code:n,type:a,videoId:r,uniqueId:l,musicId:s,tagTitle:d,musicTitle:c})})}));var Mr=n(81054),Pr=n(6990);const Dr=(0,Mr.Ay)({resolved:{},chunkName:()=>"footnotes-modal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!n.m[t]},importAsync:()=>Promise.all([n.e(9443),n.e(2390)]).then(n.bind(n,61248)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>61248},Object.assign({},Pr.KE));var Ar=n(81659);const Rr=[xo.OZ.setting],Er=()=>{const{appContext:e}=(0,Ct.P)(r.L,{selector:e=>({appContext:e.appContext,isSideNavActive:e.sideNavActive}),dependencies:[]}),{enabledClosedCaption:t}=(0,l.vN)(),n=(0,l.MQ)(),{isInProductHoldout:c}=(0,me.Vv)(),p=c,u=(0,s.YZ)(),{closeImmersivePlayer:m}=(0,xr.Cd)(),{privacyAccountPromptVariant:g,selectPrivateByDefault:h}=(0,Ar.xS)(),{userSetting:v}=(0,Ct.P)(_r.F),{privateAccount:b}=v,_=(0,a.W5)(Rr),f=(0,a.W6)(),{isShow:x,url:y=""}=(0,_o.vy)(),{PersonalizedModal:k,handleOpenModal:w}=(0,d.D0)({isFeed:!0}),C=(0,gn.Nj)(yo.A),j=(0,i.useCallback)((()=>{u.setShowingBrowserMode(!1),m(fr.U.Navigate)}),[u,m]);return(0,o.FD)(o.FK,{children:[(0,o.Y)(V,{privacyAccountPromptVariant:g,privateAccount:b,selectPrivateByDefault:h}),(0,o.Y)(oe,{}),(0,o.Y)(fo.U,{}),p?(0,o.Y)(Oe,{}):(0,o.FD)(o.FK,{children:[k,(0,o.Y)(Fo,{shareReporter:C,handleOpenManageFeedModal:w,useGetVideoPath:ve._u,onDetailPageItemClick:j})]}),(0,o.Y)(Mt,{}),(0,o.Y)(fn,{}),(0,o.Y)(Pn,{}),(0,o.Y)(zn,{}),(0,o.Y)(Vn,{}),!_&&(0,o.Y)(ro,{onSettingClick:()=>{const t=null==e?void 0:e.language;f.push({pathname:"setting",search:"?"+(t?`lang=${t}&`:"")})},header:(0,o.Y)($o,{})}),(0,o.Y)(xi,{}),(0,o.Y)(Ii,{}),(0,o.Y)(Cr,{}),(t||n)&&(0,o.Y)(Ji,{}),x&&(0,o.Y)(bo,{url:y}),(0,o.Y)(br,{}),(0,o.Y)(Ir,{}),(0,o.Y)(Sr,{}),(0,o.Y)(Dr,{})]})}},22174:(e,t,n)=>{var o;n.d(t,{U:()=>o}),function(e){e.ClickComment="click_comment",e.ClickPreviewCard="click_preview_card",e.ClickX="click_x",e.ClickBackground="click_background",e.Keyboard="keyboard",e.Navigate="navigate",e.Refresh="refresh"}(o||(o={}))},69794:(e,t,n)=>{n.d(t,{Cd:()=>c});var o=n(40099),i=n(16085),a=n(93608),r=n(65852),l=n(32125),s=n(36825);const d=o.createRef(),c=()=>{const{reportExitImmersivePlayer:e}=(()=>{const{teaParams:e}=(0,s.Z)((e=>({teaParams:e.teaParams})),l.bN);return{reportExitImmersivePlayer:(0,o.useCallback)((t=>{if(!t||!d.current)return;const n=Number(new Date),o=Object.assign(Object.assign(Object.assign(Object.assign({},r.L.getScreenRatio()),{duration:d.current?(n-d.current)/1e3:void 0}),e),{enter_method:t,play_mode:"immersive_player"});r.L.handleExitBrowser(o),a.f.sendEvent("exit_immersive_player",o),d.current=null}),[e])}})(),t=(0,i.kh)(),n=(0,o.useCallback)((n=>{e(n),t.closeImmersivePlayer()}),[t,e]);return{enterTimeRef:d,closeImmersivePlayer:n,reportExitImmersivePlayer:e}}},36825:(e,t,n)=>{n.d(t,{Z:()=>d,w:()=>s});var o=n(79983),i=n(46682),a=n(16085),r=n(92597),l=n(32125);const s=e=>{const[t]=(0,i.S)(o.O,{selector:t=>{var n;return null!==(n=t[null!=e?e:""])&&void 0!==n?n:{list:[]}},dependencies:[e]});return t},d=(...[e,t])=>{var n;const o=(0,a.Z9)(e,t),i=(0,a.Z9)((e=>e),l.bN),d=i.itemListSourceConfig,c=s("single"===(null==d?void 0:d.mode)?d.itemListKey:void 0);return"single"===(null==d?void 0:d.mode)?(0,r.D)(d.itemListKey)?o:e(Object.assign(Object.assign({},i),{itemList:null!==(n=c.list)&&void 0!==n?n:[]})):o}},32241:(e,t,n)=>{n.d(t,{M2:()=>d,_B:()=>l,bn:()=>r});var o=n(43723),i=n(31209);const a=(0,o.p)("mobileBasicPlayerAtom@tiktok/webapp-atoms",{mobileDefaultMute:!1,forcePause:!1,forcePlay:!1,canRetry:!0}),{useServiceState:r,useServiceDispatchers:l,useAtomService:s}=(0,i.i)(a,((e,t)=>({setMobileDefaultMute(e){t(a,(t=>Object.assign(Object.assign({},t),{mobileDefaultMute:e})))},setForcePause(e){t(a,(t=>Object.assign(Object.assign({},t),{forcePause:e})))},setForcePlay(e){t(a,(t=>Object.assign(Object.assign({},t),{forcePlay:e})))},setCanRetry(e){t(a,(t=>Object.assign(Object.assign({},t),{canRetry:e})))}}))),d=()=>r((e=>e.mobileDefaultMute))},53174:(e,t,n)=>{n.d(t,{e:()=>s});var o=n(56070),i=n(43723),a=n(31209),r=function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))};const l=(0,i.p)("aboutThisAdAtom@tiktok/webapp-atoms",{videoId:"",isModalShowing:!1,ready:!1,bannerAdsItem:{}}),s=(0,a.i)(l,((e,t)=>({setVideoId:(n,o)=>{const i=e(l),a=Object.assign(Object.assign({},i),{ready:n===i.videoId,videoId:n,bannerAdsItem:o});t(l,a)},setModalShowing:n=>{const o=e(l),i=Object.assign(Object.assign({},o),{isModalShowing:n});t(l,i)},setStateReady:n=>{const o=e(l),i=Object.assign(Object.assign({},o),{ready:n});t(l,i)},getAdsATAInfo:n=>r(void 0,void 0,void 0,(function*(){const i=yield(a=n,r(void 0,void 0,void 0,(function*(){try{const{adv_id:e,country_code:t="",geo_name_id:n=""}=a;return yield o.h.post(`https://www.tiktok.com/tiktok/v1/csp/ata/info?adv_id=${e}&geo_name_id=${n}&country_code=${t}`)}catch(e){return console.error("toggle ads pa setting error",e),{status_code:-1}}})));var a;const s=e(l),d=Object.assign(Object.assign({},s),{geo:i.geo,country:i.country,ready:!0});t(l,d)}))})))},8641:(e,t,n)=>{n.d(t,{_N:()=>p,fd:()=>c,xx:()=>d});var o,i=n(14374),a=n(31209),r=n(43723);!function(e){e.Download="download",e.FriendShare="share",e.CopyLink="link",e.PictureInPicture="pip",e.ManageFeed="manage-feed",e.VideoDetails="details",e.PhotoDetails="photo"}(o||(o={}));const l={location:{x:0,y:0},contextMenuOpen:!1,videoInfo:{videoId:"",author:"",downloadAddr:"",videoShareHandler:()=>{},mediaType:"video"},menuOptions:[]},s=(0,i._)((0,r.p)("contextMenuAtom@tiktok/webapp-atoms",l),{rehydrationKey:"webapp.contextMenu"}),{useAtomService:d,useServiceState:c,useServiceDispatchers:p,getStaticApi:u}=(0,a.i)(s,((e,t)=>({setLocation(e){t(s,(t=>Object.assign(Object.assign({},t),{location:e})))},setContextMenuOpen(e){t(s,(t=>Object.assign(Object.assign({},t),{contextMenuOpen:null!=e?e:t.contextMenuOpen})))},setVideoInfo(e){e&&t(s,(t=>Object.assign(Object.assign({},t),{videoInfo:e})))},setMenuOptions(e){e&&t(s,(t=>Object.assign(Object.assign({},t),{menuOptions:e})))},openContextMenu(e){const{location:n,videoInfo:o,menuOptions:i}=e;t(s,(e=>Object.assign(Object.assign({},e),{contextMenuOpen:!0,location:n,videoInfo:null!=o?o:e.videoInfo,menuOptions:null!=i?i:e.menuOptions})))},resetContextMenu(e){t(s,l)}})))},89143:(e,t,n)=>{n.d(t,{Iy:()=>l,Nj:()=>s,cu:()=>c,hY:()=>p});var o,i,a=n(31209),r=n(43723);!function(e){e[e.Default=3e3]="Default",e[e.Login=3501]="Login"}(o||(o={})),function(e){e[e.Report=0]="Report",e[e.SCM=1]="SCM",e[e.Share=2]="Share",e[e.MessageFriend=3]="MessageFriend",e[e.ManageFeed=4]="ManageFeed",e[e.Caption=5]="Caption",e[e.ViolationAppeal=6]="ViolationAppeal",e[e.AdViolationAppeal=7]="AdViolationAppeal",e[e.Footnotes=8]="Footnotes"}(i||(i={}));const l=(0,r.p)("globalModalAtom@tiktok/webapp-atoms",{activeModal:null}),{useAtomService:s,useServiceState:d,useServiceDispatchers:c,getStaticApi:p}=(0,a.i)(l,((e,t)=>({openModal:e=>t(l,{activeModal:e}),closeModal:()=>t(l,{activeModal:null})})))},15662:(e,t,n)=>{n.d(t,{b:()=>i,f:()=>a});var o=n(43723);const i=(0,o.p)("shareAtom@tiktok/webapp-atoms",{isOpen:!1}),a=(0,o.p)("shareUsersAtom@tiktok/webapp-atoms",{selectedUsers:new Set})},62512:(e,t,n)=>{n.d(t,{Vv:()=>s,_k:()=>l,wO:()=>r});var o=n(31209),i=n(93608),a=n(15662);const{useAtomService:r,useServiceState:l,useServiceDispatchers:s}=(0,o.i)(a.b,((e,t)=>({openMenu(e){var{activeMenu:n="share"}=e,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(e,["activeMenu"]);t(a.b,Object.assign(Object.assign({},o),{isOpen:!0,activeMenu:n})),t(a.f,{selectedUsers:new Set})},closeMenu(){t(a.b,(e=>Object.assign(Object.assign({},e),{isOpen:!1,activeMenu:void 0})))},openShare(){t(a.b,(e=>Object.assign(Object.assign({},e),{activeMenu:"share"})))},openEmbed(e){t(a.b,(t=>Object.assign(Object.assign({},t),{itemId:e,activeMenu:"embed"})))},openMessagePanel(e,n){t(a.b,(t=>Object.assign(Object.assign({},t),{itemId:e,isMessageFromShare:n,activeMenu:"message"})))},reportMessageInput(){const{hasReportedMessageInput:n,teaParams:o,activeMenu:r}=e(a.b);n||(i.f.sendEvent("share_write_message",Object.assign(Object.assign({},o),{enter_method:"message"===r?"search_dm":"quick:dm"})),t(a.b,(e=>Object.assign(Object.assign({},e),{hasReportedMessageInput:!0}))))},reportShowMoreShareOptions(){const{hasReportedShowMoreShareOptions:n,teaParams:o}=e(a.b);!n&&o&&(i.f.sendEvent("show_more_share_options",Object.assign(Object.assign({},o),{enter_method:"scroll"})),t(a.b,(e=>Object.assign(Object.assign({},e),{hasReportedShowMoreShareOptions:!0}))))}})))},58887:(e,t,n)=>{n.d(t,{SC:()=>s});var o=n(31209),i=n(43723),a=n(89143);const r=(0,i.p)("scmStateAtom@tiktok/webapp-atoms",{}),l=(0,i.p)("scmAtom@tiktok/webapp-atoms",(e=>{const t=e(r),n=1===e(a.Iy).activeModal;return Object.assign(Object.assign({},t),{isScmModalOpen:n})}),((e,t,n)=>{console.warn("Tried to set scmAtom with:",n)})),{useAtomService:s,useServiceState:d,useServiceDispatchers:c,getStaticApi:p}=(0,o.i)(l,((e,t)=>({openModal:e=>{t(r,{url:e}),(0,a.hY)().openModal(1)},closeModal:()=>{t(r,{}),(0,a.hY)().closeModal()}})))},72781:(e,t,n)=>{n.d(t,{o:()=>a,s:()=>i});var o=n(40099);function i(e){const t=(0,o.useCallback)(((t,n)=>{n&&(n.preventDefault(),n.stopPropagation()),t.disabled||(t.preventCloseOnClick||null==e||e(!1),t.action())}),[e]),n=(0,o.useCallback)(((e,n)=>{n.target instanceof HTMLInputElement||"Enter"!==n.code&&"Space"!==n.code||(n.preventDefault(),n.stopPropagation(),t(e,n))}),[t]);return{handleAction:t,handleKeyDown:n}}function a({controlledOpen:e,onControlledOpenChange:t}){const[n,i]=(0,o.useState)(!1),a=null!=e?e:n,r=(0,o.useCallback)((e=>{i(e),null==t||t(e)}),[t]);return[a,r]}},15936:(e,t,n)=>{n.d(t,{B:()=>i});var o=n(40099);const i=(e,t=["Enter"])=>(0,o.useCallback)((n=>{t.some((e=>n.key===e))&&e(n)}),[e,t])},58791:(e,t,n)=>{n.d(t,{$:()=>r});var o=n(40099),i=n(49057),a=n(16680);function r({actionWhenUserLoggedIn:e,modalConfig:t={},sideEffect:n,alwaysOpenLoginModal:r}){const l=(0,i.W)((()=>["user"]),[]),s=(0,a.b1)();return(0,o.useCallback)(((...o)=>{if(null==n||n(...o),(null==l?void 0:l.user)&&!r){if(!t.isLinkPhoneOrEmail)return null==e?void 0:e(...o);s.openModal(t)}else s.openModal(t)}),[e,null==l?void 0:l.user,s,t,n,r])}},26263:(e,t,n)=>{n.d(t,{Y:()=>o});const o=e=>({getLocalStorage:t=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return t}},setLocalStorage:t=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}},removeLocalStorage:()=>{try{localStorage.removeItem(e)}catch(e){}}})},82902:(e,t,n)=>{n.d(t,{k:()=>i});var o=n(58632);const i=e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){const{cors:t,downloadAddr:n,fileName:o}=e;try{const e=yield fetch(n,t?{mode:"cors",credentials:"include"}:{}),i=yield e.blob(),a=window.URL.createObjectURL(i),r=document.createElement("a");return r.href=a,o&&(r.download=o),document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r),window.URL.revokeObjectURL(a)}),0),!0}catch(e){return!1}}))},10332:(e,t,n)=>{n.d(t,{g:()=>u,l:()=>m});var o=n(24643),i=n(40099),a=n(57431),r=n(91257),l=n(2584),s=n(60072),d=n(32125),c=n(55913),p=n(96689);function u({itemId:e,iconConfig:t}){const{user:n}=(0,a.x)(),[{isReposted:r}]=(0,s.l8)((t=>{const o=t[e];return(null==o?void 0:o.repostList)&&n?{isReposted:o.repostList.some((e=>e.secUid===n.secUid))}:{isReposted:!1}}),d.bN);return(0,i.useMemo)((()=>(0,o.jsx)(c.j,Object.assign({},t,{showTick:r&&t.showTick}))),[t,r])}function m(e){const{itemId:t,playMode:n,playlistId:o}=e,{user:c}=(0,a.x)(),[{isReposted:u,canRepost:m},{postRepostVideo:g}]=(0,s.l8)((e=>{var n,o;const i=e[t],a=void 0!==i&&(null===(o=null===(n=i.item_control)||void 0===n?void 0:n.can_repost)||void 0===o||o);return(null==i?void 0:i.repostList)&&c?{isReposted:i.repostList.some((e=>e.secUid===c.secUid)),canRepost:a}:{isReposted:!1,canRepost:a}}),d.bN),h=function(e){return"string"==typeof e}(n)?n:r.Jr[n],v=(0,i.useCallback)((()=>g({id:t,playMode:h,playlistId:o})),[g,t,h,o]),b=(0,p.G)({actionWhenUserLoggedIn:v,modalConfig:{query:{enter_method:"click_repost",group_id:t}},reportClickEvent:()=>{l.O.handleGeneralClick("repost",{group_id:t,play_mode:h})}});return{handleClickRepost:(0,i.useCallback)((e=>{e&&(e.preventDefault(),e.stopPropagation()),b()}),[b]),canRepost:m,isReposted:u}}},45962:(e,t,n)=>{n.d(t,{V:()=>P});var o=n(24643),i=n(40099),a=n(47172),r=n(81138),l=n(7476),s=n(25616),d=n(60484),c=n(53764),p=n(95481),u=n(49057),m=n(48615),g=n(34131),h=n(62186),v=n(72153),b=n(67963);const _=(0,h.default)("div",{target:"es1egko0"})({padding:"24px 20px 6px",width:"310px",borderRadius:"8px",textAlign:"center",wordBreak:"break-word",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivMobileWrapper;"),f=(0,h.default)("div",{target:"es1egko1"})((({theme:e})=>({padding:"32px",width:"400px",borderRadius:"8px",textAlign:"center",wordBreak:"break-word",display:"flex",flexDirection:"column",alignItems:"center",color:e.colors.TextPrimary})),"label:DivDesktopWrapper;"),x=(0,h.default)("div",{target:"es1egko4"})((({theme:e})=>[{textAlign:"center",fontSize:"20px",lineHeight:"24px",margin:"16px 0 12px"},(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",color:"TextPrimary"})]),"label:DivMobileTitle;"),y=(0,h.default)("div",{target:"es1egko5"})((({theme:e})=>[{textAlign:"center",fontSize:"24px",lineHeight:"36px",margin:"16px 0"},(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",color:"TextPrimary"})]),"label:DivDesktopTitle;"),k=(0,h.default)("div",{target:"es1egko6"})((({theme:e})=>[{textAlign:"center",fontSize:"15px",lineHeight:"18px"},(0,v.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"})]),"label:DivMobileContent;"),w=(0,h.default)("div",{target:"es1egko7"})((({theme:e})=>[{textAlign:"center",fontSize:"16px",lineHeight:"22px"},(0,v.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"})]),"label:DivDesktopContent;"),C=(0,h.default)("div",{target:"es1egko8"})({display:"flex",marginTop:"16px"},"label:DivDesktopBtnWrapper;"),j={width:"100%",height:"44px",fontSize:"15px",lineHeight:"44px",textDecoration:"none"},S={width:"164px",height:"48px",fontSize:"16px",lineHeight:"48px",borderRadius:"4px"},T=(0,h.default)(b.N_,{target:"es1egko9"})((({theme:e})=>[(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),Object.assign(Object.assign({},j),{margin:"22px 0 2px",borderRadius:"2px",color:`${e.colors.ConstTextInverse} !important`,backgroundColor:e.colors.Primary,display:"block"})]),"label:StyledMobileLink;"),O=(0,h.default)(b.N_,{target:"es1egko10"})((({theme:e})=>[(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold"}),Object.assign(Object.assign({},S),{backgroundColor:e.colors.Primary,color:`${e.colors.ConstTextInverse} !important`,display:"block"})]),"label:StyledDesktopLink;"),I=(0,h.default)("div",{target:"es1egko11"})((({theme:e})=>[(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),Object.assign(Object.assign({},j),{backgroundColor:e.colors.BGTertiary,color:e.colors.TextReverse2})]),"label:DivMobileDismiss;"),M=(0,h.default)("div",{target:"es1egko12"})((({theme:e})=>[(0,v.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold"}),Object.assign(Object.assign({},S),{backgroundColor:e.colors.BGSecondary2,marginRight:"8px",color:e.colors.TextPrimary,border:`1px solid ${e.colors.LineSecondary2}`,cursor:"pointer"})]),"label:DivDesktopDismiss;"),P=(0,i.memo)((({visible:e,pathname:t,newWindow:n=!1,isWebapp:h=!1,onClose:v,onJump:b})=>{const{language:j,user:S,region:P}=(0,d.L$)((0,u.W)((()=>["language","user","region"]),[])),{isMobile:D}=(0,d.L$)((0,m.U)((()=>["isMobile"]),[])),A=(0,s.s)(),R=(0,a.useLocation)(),E=(0,g.FR)({location:R,to:{pathname:t,search:{lang:j,user_id:null==S?void 0:S.uid,is_user_log_in:S?1:0,country_code:P}}}),L=(0,c.M)();return(0,i.useEffect)((()=>{h&&e&&l.E.handleSCMDescPopUp()}),[h,e]),D?(0,o.jsx)(p.aF,{visible:e,maskCloseable:!0,onClose:v,children:(0,o.jsxs)(_,{children:[(0,o.jsx)(r.o,{size:48,center:!0}),(0,o.jsx)(x,{children:A("scm_label_and_appeal_modal_title")}),(0,o.jsx)(k,{children:A("scm_label_and_appeal_modal_desc")}),(0,o.jsx)(T,{target:n?"_blank":void 0,forceSSR:!0,to:E,onClick:b,children:A("scm_label_and_appeal_modal_button_learn_more")}),(0,o.jsx)(I,{onClick:v,children:A("scm_label_and_appeal_modal_button_dismiss")})]})}):(0,o.jsx)(p.aF,{parentRef:L,visible:e,maskCloseable:!0,onClose:v,children:(0,o.jsxs)(f,{children:[(0,o.jsx)(r.o,{size:64,center:!0}),(0,o.jsx)(y,{children:A("scm_label_and_appeal_modal_title")}),(0,o.jsx)(w,{children:A("scm_label_and_appeal_modal_desc")}),(0,o.jsxs)(C,{children:[(0,o.jsx)(M,{onClick:v,children:A("scm_label_and_appeal_modal_button_dismiss")}),(0,o.jsx)(O,{target:n?"_blank":void 0,forceSSR:!0,to:E,onClick:b,children:A("scm_label_and_appeal_modal_button_learn_more")})]})]})})}))},89221:(e,t,n)=>{n.d(t,{f:()=>D});var o=n(24643),i=n(41271),a=n(40099),r=n(73635),l=n(25616),s=n(50970),d=n(49057),c=n(44935),p=n(62186);const u=(0,p.default)("div",{target:"echcjyx0"})({width:"322px",borderRadius:"9px",height:"389px;",margin:"0px"},"label:DivPreviewContainer;"),m=(0,p.default)("iframe",{target:"echcjyx1"})({display:"block",visibility:"unset",width:"100%",height:"389px"},"label:IframePlaylistEmbedPreview;"),g="https://www.tiktok.com",h=function(e){var t;const{language:n}=null!==(t=(0,d.W)((()=>["language"]),[]))&&void 0!==t?t:{},{uniqueId:i,tagTitle:a,musicId:r,musicTitle:l,type:s}=e;if(!s||!i&&!a&&!r)return(0,o.jsx)("div",{});const p=null!=n?n:"en",h=(0,c.iB)(p);let v;switch(s){case 1:v=`${g}/embed/@${i}${h}`;break;case 3:v=`${g}/embed/tag/${a}${h}`;break;case 2:v=`${g}/embed/music/${l}-${r}${h}`}return(0,o.jsx)(u,{style:{pointerEvents:"none"},children:(0,o.jsx)(m,{src:v,frameBorder:"0"})})};var v=n(72153);const b=(0,p.default)("div",{target:"e172cezw0"})((({theme:e,isVideoEmbedPreview:t})=>[(0,v.mp)({direction:e.direction}),{width:t?"550px":"700px"}]),{borderRadius:"9px","@media(max-width: 1000px)":{width:"400px"}},"label:DivModalContainer;"),_=(0,p.default)("div",{target:"e172cezw2"})((({theme:{colors:e}})=>({padding:"24px 24px 12px 24px",borderBottom:`0.5px solid ${e.LineSecondary}`})),"label:DivEmbedTitle;"),f=(0,p.default)("h3",{target:"e172cezw3"})((({theme:e})=>(0,v.zy)({theme:e,typography:"P1",fontWeight:"bold"})),{fontSize:"20px",lineHeight:"24px",textAlign:"start"},"label:H3EmbedTitle;"),x=(0,p.default)("div",{target:"e172cezw4"})((({theme:{direction:e}})=>(0,v.mp)({direction:e,end:"23px"})),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:23,cursor:"pointer"},"label:DivXMarkWrapper;"),y=(0,p.default)("div",{target:"e172cezw5"})({display:"flex",justifyContent:"space-between",padding:"24px","@media(max-width: 1000px)":{paddingTop:0}},"label:DivModalInnerContainer;"),k=(0,p.default)("div",{target:"e172cezw6"})({width:310,paddingTop:10,"@media(max-width: 1000px)":{width:"400px"}},"label:DivTextArea;"),w=(0,p.default)("div",{target:"e172cezw7"})((({theme:e})=>[(0,v.zy)({theme:e,fontWeight:"semiBold"}),{fontSize:16,lineHeight:"24px"}]),{display:"block",width:"100%",marginBottom:"20px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:DivAreaDescription;"),C=(0,p.default)("textarea",{target:"e172cezw8"})((({theme:e})=>[(0,v.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{display:"block",padding:"12px 12px 12px 12px",width:"100%",height:148,marginBottom:20,border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word",background:"rgba(22, 24, 35, 0.06)",borderRadius:2}]),"label:TextareaEmbedCode;"),j=(0,p.default)("button",{target:"e172cezw9"})(v.WA,(({theme:e,primary:t})=>[(0,v.zy)({theme:e,fontWeight:t?"semiBold":"normal",color:"TextPrimary"}),{fontSize:16,border:`1px solid ${e.colors.LineSecondary}`,background:e.colors.BGTertiary},{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}]),{borderRadius:2,display:"block",width:"100%",textAlign:"center",cursor:"pointer",height:"36px",marginBottom:"20px"},"label:Button;"),S=(0,p.default)("p",{target:"e172cezw10"})((({theme:e})=>[(0,v.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}]),{fontSize:"12px",lineHeight:"18px"},"label:PHint;"),T=(0,p.default)("div",{target:"e1rggtg60"})({borderRadius:"4.5px",width:"163px",height:"379px",overflow:"hidden"},"label:DivPreviewContainer;"),O="scale(0.5)",I=e=>"rtl"===e?"top right":"top left",M=(0,p.default)("iframe",{target:"e1rggtg61"})((({theme:e})=>[{display:"block",visibility:"unset",width:"326px",height:"758px",msTransform:O,msTRANSFORM_ORIGIN_ZERO:I(e.direction),MozTransform:O,MozTRANSFORM_ORIGIN_ZERO:I(e.direction),WebkitTransform:O,WebkitTRANSFORM_ORIGIN_ZERO:I(e.direction),transform:O,transformOrigin:I(e.direction),border:"none"}]),"label:IframeVideoEmbedPreview;"),P=function(e){var t;const{videoId:n}=e,{language:i}=null!==(t=(0,d.W)((()=>["language"]),[]))&&void 0!==t?t:{};return(0,o.jsx)(T,{style:{pointerEvents:"none"},children:(0,o.jsx)(M,{src:(()=>{const e=null!=i?i:"en",t=(0,c.iB)(e);return`https://www.tiktok.com/embed/v2/${n}${t}`})(),frameBorder:"0"})})},D=function(e){const{code:t,onCopy:n,uniqueId:d,videoId:c,type:p,musicId:u,tagTitle:m,musicTitle:g}=e,v=(0,l.s)(),T=(0,i.P)(s.L,{selector:e=>e.lang,dependencies:[]}),O=(0,a.useRef)(null),I=(0,a.useCallback)((()=>{var e;null===(e=O.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==n||n()}),[n]),M=`"https://www.tiktok.com/legal/terms-of-service?lang=${T}" target="_blank"`,D='"https://www.tiktok.com/legal/privacy-policy" target="_blank"';let A;const R=1===p||3===p||2===p;let E,L;switch(p){case 1:E=v("embed_profile_popup_title"),L=v("embed_profile_popup_desc");break;case 3:E=v("embeds_popup_hashtag_header"),L=v("embeds_popup_hashtag_body");break;case 2:E=v("embeds_popup_sound_header"),L=v("embeds_popup_sound_body");break;default:E=v("Embed video"),L=v("embed_popup_embed_body")}try{A=R?v("embeds_popup_tns").replace("{Terms of Service}",`<a href=${M}>${v("embed_profile_popup_bottom_desc_tos")}</a>`).replace("{Privacy Policy}",`<a href=${D}>${v("embed_profile_card_desc_privacy_policy")}</a>`):v("By embedding this video, you confirm that you agree to our <a href={TermsHref}>Terms of Use</a> and acknowledge you have read and understood our <a href={PolicyHref}> Privacy Policy.</a>").replace("{TermsHref}",M).replace("{PolicyHref}",D)}catch(e){A=`By embedding this page, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${T}" target="_blank">Terms of Service</a> and acknowledge that you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy" target="_blank"> Privacy Policy.</a>`}const[F,z]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{var e;const t=window.matchMedia("(max-width: 1000px)");null===(e=null==t?void 0:t.addEventListener)||void 0===e||e.call(t,"change",(e=>z(e.matches))),z(null==t?void 0:t.matches)}),[]),(0,o.jsxs)(b,{isVideoEmbedPreview:!F&&!R,children:[(0,o.jsxs)(_,{children:[(0,o.jsx)(f,{children:E}),(0,o.jsx)(x,{onClick:e.onClose,children:(0,o.jsx)(r.A,{width:20,height:20})})]}),(0,o.jsxs)(y,{children:[!F&&(0,o.jsx)(o.Fragment,{children:R?(0,o.jsx)(h,{type:p,uniqueId:d,tagTitle:m,musicId:u,musicTitle:g}):(0,o.jsx)(P,{videoId:c})}),(0,o.jsxs)(k,{children:[(0,o.jsx)(w,{children:L}),(0,o.jsx)(C,{defaultValue:t,readOnly:!0,rows:7,ref:O}),(0,o.jsx)(j,{primary:!0,onClick:I,children:v("embed_profile_popup_btn")}),(0,o.jsx)(S,{dangerouslySetInnerHTML:{__html:A}})]})]})]})}},44935:(e,t,n)=>{n.d(t,{AP:()=>p,CE:()=>u,MI:()=>g,iB:()=>h,jS:()=>m});var o=n(41271),i=n(72688),a=n(17566),r=n(52333),l=n(32125),s=n(84908);const d="https://www.tiktok.com";function c(e){const t={"<":"&lt",">":"&gt;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"};let n=`(${Object.keys(t).toString()})`;n=n.replace(/,/g,")|(");const o=new RegExp(n,"g");return e.replace(o,(e=>t[e]))}function p(e){var t,n,p;const u=(0,o.P)(r.k,{selector:t=>t[e],dependencies:[e]}),m=(0,s.nW)((e=>{var t;return e.users[null!==(t=null==u?void 0:u.author)&&void 0!==t?t:""]}),l.bN),{music:g,textExtra:h,desc:v}=null!=u?u:{},{uniqueId:b="",secUid:_}=null!=m?m:{},f=null!==(t=null==g?void 0:g.title)&&void 0!==t?t:"",x=null!==(n=null==g?void 0:g.id)&&void 0!==n?n:"",y=null!==(p=null==g?void 0:g.authorName)&&void 0!==p?p:"",k=(0,i.fJR)({uniqueId:b,secUid:_}),w=(0,i.pHc)({musicName:f,musicId:x}),C=(0,a._u)()(u),j=f.replace(`- ${y}`,"")+(y?` - ${y}`:""),S=`${d}${k.split("?")[0]}`,T=`${d}${w.split("?")[0]}`,O=`${d}${C.split("?")[0]}`,I=`${d}/embed.js`,M=`@${b}`,P=`♬ ${c(j)}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${O}"\n      data-video-id="${e}" style="max-width: 605px;min-width: 325px;" >\n      <section>\n          <a target="_blank" title="${M}" href="${S}?refer=embed">${M}</a>\n          ${function(e,t=[]){return t.length?[...t].sort(((e,t)=>e.start-t.start)).reduce(((t,n,o,a)=>{const{start:r,end:l,hashtagName:s,type:p}=n,u=0===o?0:a[o-1].end,m=r,g=e.substring(u,m);g&&(t+=c(g));const h=e.substring(r,l);return t+(1===p&&s?`<a title="${s}" target="_blank" href="${d}${(0,i.ATn)({tagName:s})}?refer=embed">${c(h)}</a>`:c(h))}),""):`<p>${c(e)}</p>`}(null!=v?v:"",h)}\n          <a target="_blank" title="${P}" href="${T}?refer=embed">${P}</a>\n      </section>\n    </blockquote>\n    <script async src="${I}"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function u(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${d}/@${e}"\n      data-unique-id="${e}"\n      data-embed-type="creator" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${d}/@${e}?refer=creator_embed">@${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function m(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${d}/tag/${e}"\n      data-tag-id="${e}"\n      data-embed-type="tag" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${d}/tag/${e}?refer=tag_embed">#${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function g(e,t,n){if(!e||!t)return;const o=(0,i.pHc)({musicName:e,musicId:t}),a=o.split("/")[2],r=`${d}${o.split("?")[0]}`,l=`♬ ${e} - ${null!=n?n:""}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${d}${o}"\n      data-music-id="${a}"\n      data-embed-from="embed"\n      data-embed-type="music" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" title="${l}" href="${r}?refer=music_embed">${l}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map((e=>e.replace(/^\s+/gm,""))).join(" ").trim()}function h(e){return`?lang=${e}&embedFrom=webapp_preview`}},16457:(e,t,n)=>{n.d(t,{U:()=>o});const o=(0,n(47236).Ay)({resolved:{},chunkName:()=>"login-modal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!n.m[t]},importAsync:()=>Promise.all([n.e(2837),n.e(2318),n.e(1618),n.e(7181),n.e(3392),n.e(241),n.e(4336),n.e(1427),n.e(9443),n.e(1799),n.e(8564),n.e(5956),n.e(7716),n.e(6244),n.e(2939),n.e(4563),n.e(8873),n.e(5985),n.e(415),n.e(9017),n.e(5979),n.e(5021),n.e(5080),n.e(7912),n.e(3446),n.e(3290),n.e(8474),n.e(3557),n.e(8177),n.e(1274),n.e(9937),n.e(2618),n.e(2142),n.e(1683),n.e(6514),n.e(5308),n.e(8605),n.e(2486),n.e(1605),n.e(4875),n.e(1493),n.e(3593),n.e(9920),n.e(7586),n.e(3730),n.e(7308),n.e(6423),n.e(1562),n.e(5752),n.e(4871),n.e(5546),n.e(6778),n.e(1126),n.e(7899),n.e(7314)]).then(n.bind(n,37278)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>37278},{ssr:!1})},7476:(e,t,n)=>{n.d(t,{E:()=>a});var o,i=n(93608);!function(e){e.SCMPageView="scm_page_view",e.SCMTagClick="scm_tag_click",e.SCMDescriptionPop="scm_description_pop",e.SCMLearnMoreClick="scm_learn_more_click",e.SCMQuit="scm_quit"}(o||(o={}));const a={handleSCMPageView:()=>{i.f.event("scm_page_view")},handleTagClick:()=>{i.f.event("scm_tag_click")},handleQuit:()=>{i.f.event("scm_quit")},handleSCMLearnMore:()=>{i.f.event("scm_learn_more_click")},handleSCMDescPopUp:()=>{i.f.event("scm_description_pop")}}},61740:(e,t,n)=>{n.d(t,{Z:()=>a});var o,i=n(93608);!function(e){e.Photo="photo",e.Video="video"}(o||(o={}));const a={handleContextMenu:e=>{i.f.sendEvent("right_click",e)},handleDownload:e=>{i.f.sendEvent("click_download",e)},handleCopyVideoUrl:e=>{i.f.sendEvent("click_copy_video_url",e)},handlePictureInPicture:e=>{i.f.sendEvent("click_picture_in_picture",e)}}}}]);