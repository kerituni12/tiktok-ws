"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1531],{43668:(e,t,n)=>{n.d(t,{default:()=>V});var r={};n.r(r),n.d(r,{getConsent:()=>Q,loadCookieBanner:()=>G,setDisabled:()=>M,updateBannerLocale:()=>z});var o=n(65738),i=n.n(o);function c(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e;return e=function*(e){const{rawResponse:t=!1}=e,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},{url:"",method:"GET",params:{},config:{timeout:6e4}},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["rawResponse"]));try{const e=yield i()(n);if(t)return e;var r,o;const c=null!==(o=null!==(r=e.data.statusCode)&&void 0!==r?r:e.data.code)&&void 0!==o?o:e.data.status;if(0===c||200===c)return e.data.body;throw new Error(`web-privacy-sdk fetch error response=${JSON.stringify(e)}`)}catch(e){if(i().isCancel(e))return null;throw e}},u=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))},u.apply(this,arguments)}const l=345918,s="default",f=1988,p="https://www.tiktok.com",d=!0,b="en",y={channel:"sg",channel_type:"tcpy"};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let O=null,v={};function h(e){return e!==Object(e)}function g(e,t){if(e===t)return!0;if(h(e)&&h(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){if(!(n in t))return!1;if(!g(e[n],t[n]))return!1}return!0}function w(e){return"undefined"==typeof window?Promise.resolve(null):(e=e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},v,e):v,O&&g(e,v)||(v=e,O=function(e){const{locale:t=b,appId:n=f,theme:r=s,enableTea:o=d,apiDomain:i=p}=e;return function(e){return u.apply(this,arguments)}({url:`${i}/api/v1/web-cookie-privacy/config`,params:{locale:t,appId:n,theme:r,tea:o?1:0},withCredentials:!0,headers:{"x-web-privacy-sdk-ver":"1.0.1","x-pns-referrer":`${location.protocol}//${location.host}${location.pathname}`}})}(e)),O)}function j(){return v}var k=n(80249);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}const E="undefined"!=typeof window?new k.g("cookie_banner_tea_sdk"):null;let A=!1;function D(e,t={}){if(!A||!E)return;const n=`${location.protocol}//${location.host}${location.pathname}`;E.event(e,P({page_url:n,host:location.host,user_agent:navigator.userAgent,referrer:n,loader_version:"1.0.1"},t))}function S(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){S(i,r,o,c,a,"next",e)}function a(e){S(i,r,o,c,a,"throw",e)}c(void 0)}))}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}let L,x,N=!1,I=!1,R="";const U="tiktok-cookie-banner-config",J=["enableTea","theme","appId","apiDomain"];let H="",K=[];function G(){return q.apply(this,arguments)}function q(){return(q=C((function*(e={}){if(N||"undefined"==typeof window)return;const t=document.getElementsByTagName("tiktok-cookie-banner");if(null==t?void 0:t.length)return;N=!0;const{locale:n=j().locale,enableTea:r=d}=e;e.consentApiDomain&&(H=e.consentApiDomain),e.customTheme&&(K=e.customTheme);const o={};for(const t of J){const n=e[t];void 0!==n&&Reflect.set(o,t,n)}n&&(x=n,Reflect.set(o,"locale",n));try{var i;const t=yield w(o);if(!t)return;r&&function(e){if(A||!E)return;A=!0;const t=null!=e?e:y;E.init(P({app_id:l},t)),E.start()}(null==t?void 0:t.tea);let n=document.getElementById(U);n||(n=document.createElement("script"),n.id=U,n.setAttribute("type","application/json"),document.body.appendChild(n)),n.textContent=JSON.stringify(B(T({},t),{consentApiDomain:H,customTheme:K}));const c=null==t||null===(i=t.cookieBanner)||void 0===i?void 0:i.resource;if(!c)return;if(L)return;const{baseUrl:a,esm:u}=c;!function(e){const t=document.createElement("script");t.src=e,D("cookie_banner_cdn_load",{resource_url:e}),t.crossOrigin="anonymous",t.onerror=()=>D("cookie_banner_cdn_load_failed",{resource_url:e}),document.body.appendChild(t)}(`${a}${u}`),L=document.createElement("tiktok-cookie-banner"),L.setAttribute("locale",x),L.setAttribute("user-config-ele-id",U),L.setAttribute("disabled",`${I}`),L.setAttribute("disabled-access-key",`${R}`),L.addEventListener("bannerEvents",(t=>{const{detail:n}=t;if(!n||"string"!=typeof n.type)return;let{type:r,payload:o}=n;Array.isArray(o)||(o=[o]);const i=`on${r.replace(/^\w/,(e=>e.toUpperCase()))}`;"function"==typeof e[i]&&e[i](...o)})),document.body.appendChild(L)}catch(e){console.error(e)}}))).apply(this,arguments)}function z(e){return F.apply(this,arguments)}function F(){return(F=C((function*(e){try{if(!N)return;x=e;const t=yield w({locale:e});if(!t||e!==x)return;let n=document.getElementById(U);n||(n=document.createElement("script"),n.id=U,n.setAttribute("type","application/json"),document.body.appendChild(n)),n.textContent=JSON.stringify(B(T({},t),{consentApiDomain:H,customTheme:K})),L&&L.setAttribute("locale",e)}catch(e){console.error(e)}}))).apply(this,arguments)}function M(e,t){D("cookie_banner_set_disabled",{disabled:e?1:0}),I=e,R=t,L&&(L.setAttribute("disabled",`${e}`),L.setAttribute("disabled-access-key",`${t}`))}function Q(e){if("function"!=typeof e)return;let t=L;var n;t||(t=null===(n=document.getElementsByTagName("tiktok-cookie-banner"))||void 0===n?void 0:n[0]),t&&t.addEventListener("getConsent",(t=>{const{detail:n}=t;if(!n)return;let{cookieConsent:r,consentOptions:o}=n.payload||{};e(r,o)}))}var V=r}}]);